"use strict";(window.webpackChunkpixfort_core=window.webpackChunkpixfort_core||[]).push([[5866],{15866:function(e,t,r){r.r(t),r.d(t,{default:function(){return K}});var a,s=r(64467),o=r(96540),n=r(61225),i=r(57360),l=r(86691),d=r(77832),c=r(35152),p=r(72886),h=r(4966),m=r(28393),g=r(2474);function x(){return x=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)({}).hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},x.apply(null,arguments)}var u=function(e){return o.createElement("svg",x({xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",v:32},e),a||(a=o.createElement("g",{fill:"none",fillRule:"evenodd"},o.createElement("path",{fill:"currentcolor",fillOpacity:.25,d:"M11,12 C11.5522847,12 12,12.4477153 12,13 L12,18 C12,18.5522847 11.5522847,19 11,19 C10.4477153,19 10,18.5522847 10,18 L10,15.414 L4.70710678,20.7071068 C4.31658249,21.0976311 3.68341751,21.0976311 3.29289322,20.7071068 C2.90236893,20.3165825 2.90236893,19.6834175 3.29289322,19.2928932 L8.584,14 L6,14 C5.48716416,14 5.06449284,13.6139598 5.00672773,13.1166211 L5,13 C5,12.4477153 5.44771525,12 6,12 L11,12 Z"}),o.createElement("path",{fill:"currentcolor",d:"M20.7071068,3.29289322 C21.0976311,3.68341751 21.0976311,4.31658249 20.7071068,4.70710678 L15.414,10 L18,10 C18.5128358,10 18.9355072,10.3860402 18.9932723,10.8833789 L19,11 C19,11.5522847 18.5522847,12 18,12 L13,12 C12.4477153,12 12,11.5522847 12,11 L12,6 C12,5.44771525 12.4477153,5 13,5 C13.5522847,5 14,5.44771525 14,6 L14,8.584 L19.2928932,3.29289322 C19.6834175,2.90236893 20.3165825,2.90236893 20.7071068,3.29289322 Z"}))))},f=r(66060),b=r(19640),y=r(85064),v=r(22044),k=r(46996),w=r(71083),j=r(43375),_=r(43627),S=r(74979),N=r(91691),C=r(74848);function A({id:e,name:t,val:r,area:a,col:s,generator:o=!1}){const{attributes:n,listeners:i,setNodeRef:l,transform:d,transition:c,isDragging:p}=(0,_.gl)({id:e}),h={transform:S.Ks.Transform.toString(d),transition:c};return(0,C.jsx)("div",{ref:l,style:h,className:"item inline-flex "+(o||"menu"!==t?"":"grow"),...n,...i,children:p?(0,C.jsx)("div",{className:"flex rounded-md outline-dashed outline-1 outline-offset-[-1px] outline-gray-400/80 dark:outline-gray-500/80 animate-[pulse_0.75s_ease-in-out_infinite] box-content "+("menu"===t?"grow basis-auto":""),children:(0,C.jsx)("div",{className:"opacity-0",children:(0,C.jsx)(N.A,{item:{id:e,name:t,val:r},itemID:e,area:a,col:s,generator:o,children:t})})}):(0,C.jsx)(N.A,{item:{id:e,name:t,val:r},itemID:e,area:a,col:s,generator:o,children:t})})}var D=r(76880),T=r(27528),O=r(95141);function M({id:e,data:t,area:r,col:a,destinationCol:s,title:o="Column Settings",containerClasses:i="",generator:l=!1,removable:d=!1,isAreaSticky:c=!1}){const{isOver:p,setNodeRef:h}=(0,j.zM)({id:e}),m=(0,n.d4)((e=>e.header.modalOpen)),g=function(e){if(e)for(const t in e){const r=e[t];if("align"===r.name)switch(r.val){case"text-left":return"justify-start";case"text-center":return"justify-center";case"text-right":return"justify-end";case"d-flex":return"justify-between"}}return""}(t.opts),x=(0,n.wA)();return(0,C.jsxs)("div",{className:`${s===a?"bg-primary/15 dark:bg-gray-700/60":"bg-white dark:bg-gray-800"} ${i}`,children:[(0,C.jsxs)("span",{className:"flex items-center gap-1 absolute z-10 right-[-5px] top-[-10px] rtl:left-[-5px] rtl:right-auto",children:[(0,C.jsxs)(D.A,{title:o,options:(0,T.S)().col_area.options,enableTabs:!0,area:r,col:a,isAreaSticky:c,itemType:"col",linkClasses:"group/column flex items-center shadow-sm opacity-0 group-hover:opacity-100 bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 py-1 px-[5px] rounded-md transition-opacity ease-in-out duration-150 active:text-inherit hover:text-inherit",data:t.opts,children:[(0,C.jsx)("span",{className:"text-xs font-medium inline-block relative mr-1 rtl:mr-0 rtl:ml-1 text-gray-500",children:"Column Settings"}),(0,C.jsx)(y.A,{className:"group-hover/column:rotate-180 transition-all ease-in-out duration-200 text-gray-500 dark:text-gray-500",iconName:"settings"})]}),d&&(0,C.jsx)("button",{onClick:e=>{e.preventDefault(),x((0,O.A$)({area:r,col:a}))},className:"inline-flex items-center shadow-sm opacity-0 group-hover:opacity-100 hover:bg-rose-200 dark:hover:bg-rose-600 text-gray-500 hover:text-rose-500 active:text-rose-500 dark:hover:text-rose-200 dark:active:text-rose-100  bg-white dark:bg-gray-800 border border-gray-200 hover:border-rose-300 dark:border-gray-700 dark:hover:border-rose-500 py-1 px-[5px] rounded-md transition-all ease-in-out duration-150 active:text-inherit hover:text-inherit",children:(0,C.jsx)(y.A,{className:"",iconName:"trash"})})]}),(0,C.jsx)(_.gB,{id:a,disabled:m,items:t.val,strategy:_.m$,children:(0,C.jsx)("div",{ref:h,className:`inline-flex ${g} gap-2 mb-0 w-full rounded-md shadow-none h-[68px] px-2 py-2 box-border overflow-x-scroll transition-all ease-in-out duration-100 `,children:t.val.map((e=>(0,C.jsx)(A,{id:e.id,area:r,col:a,name:e.name,val:e.val,generator:l},e.id)))})})]})}var E=r(54018),B=r(99293),H=r(54771);const I={topbar_1:[],topbar_2:[],topbar_3:[],header_1:[],header_2:[],header_3:[],stack_1:[],stack_2:[],stack_3:[],m_topbar_1:[],m_header_1:[],m_stack_1:[],trash_area:[]};const P=({items:e,fullScreen:t})=>{const{setNodeRef:r}=(0,j.zM)({id:"items_source",data:{source:"generator"}});return(0,C.jsxs)("div",{ref:r,children:[(0,C.jsxs)("div",{children:[(0,C.jsx)("h5",{className:"text-xs font-medium text-gray-950 dark:text-white",children:(0,H.__)("Essentials","pixfort-core-admin")}),(0,C.jsx)("div",{className:`flex ${"full-screen"===t?"flex-wrap max-w-md":"h-[52px] w-full"} gap-2 my-2`,children:e.map(((e,t)=>"misc"!==e.category?(0,C.jsx)(A,{id:e.id,area:"items_source",name:e.name,val:e.val,generator:!0},t):null))})]}),(0,C.jsxs)("div",{children:[(0,C.jsx)("h5",{className:"text-xs font-medium text-gray-950 dark:text-white mt-1",children:(0,H.__)("Miscellaneous","pixfort-core-admin")}),(0,C.jsx)("div",{className:`flex ${"full-screen"===t?"flex-wrap max-w-md":"h-[52px] w-full"} gap-2 mt-2`,children:e.map(((e,t)=>"misc"===e.category?(0,C.jsx)(A,{id:e.id,area:"items_source",name:e.name,val:e.val,generator:!0},t):null))})]})]})},R=()=>{const{isOver:e,setNodeRef:t}=(0,j.zM)({id:"trash_area"});return(0,C.jsx)("div",{ref:t,className:` ${e?"is-dragOver min-h-24 bg-rose-500/20 animate-[pulse_0.9s_ease-in-out_infinite] border-rose-400":"bg-gray-300/10 dark:bg-gray-700/15 min-h-20 border-gray-300 dark:border-gray-700"} w-full h-full flex items-center justify-center p-8 rounded-xl border border-dashed transition-all ease-in-out duration-200`,children:(0,C.jsxs)("span",{className:`font-medium text-xs ${e?"text-rose-600":"text-gray-500 dark:text-gray-600"} absolute top-0 right-0 bottom-0 left-0 flex items-center justify-center gap-1`,children:[(0,C.jsx)(E.A,{className:` ${e?"":"text-gray-400 dark:text-gray-600"} w-5 h-5 shrink-0 inline-block`})," ",(0,H.__)("Drop to Delete","pixfort-core-admin")]})})};var F=(0,n.Ng)((e=>({fullScreen:e.status.fullScreen})),null)((function(e){const t=(0,n.d4)((e=>e.header)),[r,a]=(0,o.useState)(I),[s,i]=(0,o.useState)(null),[l,d]=(0,o.useState)(!1),[c,p]=(0,o.useState)(!1),[h,m]=(0,o.useState)(!1),[g,x]=(0,o.useState)(!1),u=(0,n.wA)(),f=(0,j.FR)((0,j.MS)(j.cA,{activationConstraint:{distance:1},onStart(e){e.preventDefault()}}),(0,j.MS)(j.AN,{activationConstraint:{distance:1},onStart(e){e.preventDefault()}}),(0,j.MS)(j.IG,{activationConstraint:{delay:250,tolerance:115}})),b=e=>{const r=t.data;for(const t in r){const a=r[t];if(a.val)for(let t in a.val){const r=a.val[t];if(t===e)return r.val}}},v=e=>{if(t.items.find((t=>t.id===e)))return"items_source";const r=t.data;for(const t in r){const a=r[t];if(a.val)for(let t in a.val){const r=a.val[t];if(r.val)for(let a in r.val){if(r.val[a].id===e)return t}}}return!1},k=e=>{const r=t.items.findIndex((t=>t.id===e));if(r&&-1!==r)return r;const a=t.data;for(const t in a){const r=a[t];if(r.val)for(let t in r.val){const a=r.val[t];if(a.val)for(let t in a.val){if(a.val[t].id===e)return t}}}return!1},w=(e,t)=>{e.preventDefault(),u((0,O.Xn)({area:t}))},_=e=>{let t=!1;return e&&Array.isArray(e)&&e.forEach((e=>{"sticky"!==e.name||"is-sticky"!==e.val&&"is-smart-sticky"!==e.val||(t=!0)})),t},S=s?(e=>{const r=t.items.findIndex((t=>t.id===e));if(r&&-1!==r)return t.items[r];const a=t.data;for(const t in a){const r=a[t];if(r.val)for(let t in r.val){const a=r.val[t];if(a.val)for(let t in a.val){const r=a.val[t];if(r.id===e)return r}}}return!1})(s):null;return(0,C.jsx)(j.Mp,{sensors:f,collisionDetection:j.TT,onDragStart:e=>{const{active:t}=e,r=v(t.id);m(r),i(t.id),d(!0)},onDragOver:t=>{const{active:a,over:s}=t;if(!s)return;const o=v(a.id),n=s.id in r?s.id:v(s.id);if(x(n),!o||!n||o===n)return;if("generator"===n||"items_source"===n||"items_source_2"===n||"trash_area"===n)return;const i=Number(k(a.id)),l=b(n).length;"generator"===o||"items_source"===o||"items_source_2"===o?c||(e.onDragEnd({source:{index:i,droppableId:o},destination:{droppableId:n,index:l}}),p(!0)):e.onDragEnd({source:{index:i,droppableId:o},destination:{droppableId:n,index:l}})},onDragEnd:t=>{const{active:a,over:s}=t;if(d(!1),p(!1),x(!1),!s)return void i(null);const o=v(a.id),n=s.id in r?s.id:v(s.id);if(o&&n)if("generator"!==n&&"items_source"!==n&&"items_source_2"!==n){if("trash_area"===n){if("items_source"!==o){const t=b(o).findIndex((e=>e.id===a.id));e.onDragEnd({source:{index:t,droppableId:o},destination:{droppableId:n,index:1}})}}else{const t=b(n).findIndex((e=>e.id===a.id)),r=b(n).findIndex((e=>e.id===s.id)),i=-1===r?b(n).length:r;o===n&&e.onDragEnd({source:{index:t,droppableId:o},destination:{droppableId:n,index:i}})}i(null)}else i(null)},autoScroll:!1,keyboardCoordinatesGetter:null,children:(0,C.jsxs)("div",{className:"flex flex-col "+("full-screen"===e.fullScreen?"gap-6 lg:flex-row":""),children:[(0,C.jsxs)("div",{className:"flex-1 flex-col "+("full-screen"===e.fullScreen?"lg:order-last lg:min-w-[500px]":""),children:[(0,C.jsxs)("div",{className:"border border-gray-300 dark:border-gray-700 border-dashed px-3.5 py-3 rounded-xl",children:["desktop"===e.responsiveMode&&(0,C.jsxs)(C.Fragment,{children:[(0,C.jsxs)("div",{className:"mt-[1px]",children:[(0,C.jsx)("div",{className:"flex items-center justify-between",children:(0,C.jsx)(D.A,{title:"Top bar area Settings",options:(0,T.S)().topbar_area.options,area:"topbar",itemType:"area",linkClasses:"inline-block hover:opacity-80 transition-opacity ease-in-out duration-100",data:t.data.topbar.opts,children:(0,C.jsxs)("h5",{className:"group/area flex items-center gap-[3px] text-gray-500 mb-1.5 text-xs font-medium ml-2 rtl:ml-0 rtl:mr-2",children:[(0,H.__)("Top Bar Area Settings","pixfort-core-admin")," ",(0,C.jsx)(y.A,{className:"text-gray-400 dark:text-gray-500 group-hover/area:rotate-180 transition-all ease-in-out duration-200",iconName:"settings"})]})})}),(0,C.jsxs)("div",{className:"flex gap-2 mb-2 relative",children:[Object.values(t.data.topbar.val).map(((e,r)=>(0,C.jsx)(M,{id:e.name,area:"topbar",col:e.name,isAreaSticky:_(t.data.topbar.opts),destinationCol:g,data:t.data.topbar.val[e.name],removable:Object.values(t.data.topbar.val).length>1,containerClasses:"flex-1 min-w-[100px] max-h-[68px] box-content group relative shadow-sm border border-gray-200 dark:border-gray-700 rounded-lg mb-1"},e.name+"_"+r))),Object.values(t.data.topbar.val).length<3&&(0,C.jsx)("button",{onClick:e=>w(e,"topbar"),className:"peer group/addColumn absolute -right-[24px] rtl:right-auto rtl:-left-[24px] bg-gray-100 dark:bg-gray-900 dark:hover:bg-gray-800 dark:border-gray-700 shadow-sm hover:bg-gray-50 border border-gray-200 rounded-md top-0 bottom-0 my-auto mb-1 inline-flex items-center text-gray-500 dark:text-gray-400 text-xs font-medium transition-all ease-in-out duration-100",children:(0,C.jsx)(y.A,{className:"text-gray-500 dark:text-gray-400 group-hover/addColumn:rotate-180 transition-all ease-in-out duration-200",iconName:"plus"})}),(0,C.jsx)("div",{className:"inline-flex items-center justify-center w-0 h-[70px] opacity-0 -ml-2 mr-0 rtl:ml-0 rtl:-mr-2 peer-hover:ml-0 peer-hover:mr-[3px] rtl:peer-hover:mr-0 rtl:peer-hover:ml-[3px] peer-hover:w-48 peer-hover:opacity-100 dark:opacity-0 dark:peer-hover:opacity-100 rounded-lg bg-gray-100 dark:bg-gray-900 peer-hover:dark:bg-gray-800/50 peer-hover:dark:border-gray-700 peer-hover:bg-gray-200/60 border-0 peer-hover:border border-dashed border-gray-300 transition-all ease-in-out duration-200 overflow-hidden",children:(0,C.jsx)("span",{className:"text-xs font-medium text-gray-500 text-nowrap transition-all ease-in-out duration-100",children:(0,H.__)("Add Column","pixfort-core-admin")})})]})]}),(0,C.jsxs)("div",{className:"",children:[(0,C.jsx)(D.A,{title:"Main Header area Settings",options:(0,T.S)().header_area.options,area:"header",itemType:"area",linkClasses:"inline-block hover:opacity-80 transition-opacity ease-in-out duration-100",data:t.data.header.opts,children:(0,C.jsxs)("h5",{className:"group/area flex items-center gap-[3px] text-gray-500 mb-1.5 text-xs font-medium ml-2 rtl:ml-0 rtl:mr-2",children:[(0,H.__)("Main Header Area Settings","pixfort-core-admin")," ",(0,C.jsx)(y.A,{className:"text-gray-400 dark:text-gray-500 group-hover/area:rotate-180 transition-all ease-in-out duration-200",iconName:"settings"})]})}),(0,C.jsxs)("div",{className:"flex gap-2 mb-2 relative",children:[Object.values(t.data.header.val).map(((e,r)=>(0,C.jsx)(M,{id:e.name,area:"header",col:e.name,isAreaSticky:_(t.data.header.opts),destinationCol:g,data:t.data.header.val[e.name],removable:Object.values(t.data.header.val).length>1,containerClasses:"flex-1 min-w-[100px] max-h-[68px] box-content group relative shadow-sm border border-gray-200 dark:border-gray-700 rounded-lg mb-1"},e.name+"_"+r))),Object.values(t.data.header.val).length<3&&(0,C.jsx)("button",{onClick:e=>w(e,"header"),className:"peer group/addColumn absolute -right-[24px] rtl:right-auto rtl:-left-[24px] bg-gray-100 dark:bg-gray-900 dark:hover:bg-gray-800 dark:border-gray-700 shadow-sm hover:bg-gray-50 border border-gray-200 rounded-md top-0 bottom-0 my-auto mb-1 inline-flex items-center text-gray-500 dark:text-gray-400 text-xs font-medium transition-all ease-in-out duration-100",children:(0,C.jsx)(y.A,{className:"text-gray-500 dark:text-gray-400 group-hover/addColumn:rotate-180 transition-all ease-in-out duration-200",iconName:"plus"})}),(0,C.jsx)("div",{className:"inline-flex items-center justify-center w-0 h-[70px] opacity-0 -ml-2 mr-0 rtl:ml-0 rtl:-mr-2 peer-hover:ml-0 peer-hover:mr-[3px] rtl:peer-hover:mr-0 rtl:peer-hover:ml-[3px] peer-hover:w-48 peer-hover:opacity-100 rounded-lg bg-gray-100 dark:bg-gray-900 peer-hover:dark:bg-gray-800/50 peer-hover:dark:border-gray-700 peer-hover:bg-gray-200/60 border-0 peer-hover:border border-dashed border-gray-300 transition-all ease-in-out duration-200 overflow-hidden",children:(0,C.jsx)("span",{className:"text-xs font-medium text-gray-500 text-nowrap transition-all ease-in-out duration-100",children:(0,H.__)("Add Column","pixfort-core-admin")})})]})]}),(0,C.jsxs)("div",{className:"",children:[(0,C.jsx)(D.A,{title:"Stack area Settings",options:(0,T.S)().stack_area.options,area:"stack",itemType:"area",linkClasses:"inline-block hover:opacity-80 transition-opacity ease-in-out duration-100",data:t.data.stack.opts,children:(0,C.jsxs)("h5",{className:"group/area flex items-center gap-[3px] text-gray-500 mb-1.5 text-xs font-medium ml-2 rtl:ml-0 rtl:mr-2",children:[(0,H.__)("Stack Area Settings","pixfort-core-admin")," ",(0,C.jsx)(y.A,{className:"text-gray-400 dark:text-gray-500 group-hover/area:rotate-180 transition-all ease-in-out duration-200",iconName:"settings"})]})}),(0,C.jsxs)("div",{className:"flex gap-2 relative",children:[Object.values(t.data.stack.val).map(((e,r)=>(0,C.jsx)(M,{id:e.name,area:"stack",col:e.name,isAreaSticky:_(t.data.stack.opts),destinationCol:g,data:t.data.stack.val[e.name],removable:Object.values(t.data.stack.val).length>1,containerClasses:"flex-1 min-w-[100px] max-h-[68px] box-content group relative shadow-sm border border-gray-200 dark:border-gray-700 rounded-lg mb-1"},e.name+"_"+r))),Object.values(t.data.stack.val).length<3&&(0,C.jsx)("button",{onClick:e=>w(e,"stack"),className:"peer group/addColumn absolute -right-[24px] rtl:right-auto rtl:-left-[24px] bg-gray-100 dark:bg-gray-900 dark:hover:bg-gray-800 dark:border-gray-700 shadow-sm hover:bg-gray-50 border border-gray-200 rounded-md top-0 bottom-0 my-auto mb-1 inline-flex items-center text-gray-500 dark:text-gray-400 text-xs font-medium transition-all ease-in-out duration-100",children:(0,C.jsx)(y.A,{className:"text-gray-500 dark:text-gray-400 group-hover/addColumn:rotate-180 transition-all ease-in-out duration-200",iconName:"plus"})}),(0,C.jsx)("div",{className:"inline-flex items-center justify-center w-0 h-[70px] opacity-0 -ml-2 mr-0 rtl:ml-0 rtl:-mr-2 peer-hover:ml-0 peer-hover:mr-[3px] rtl:peer-hover:mr-0 rtl:peer-hover:ml-[3px] peer-hover:w-48 peer-hover:opacity-100 rounded-lg bg-gray-100 dark:bg-gray-900 peer-hover:dark:bg-gray-800/50 peer-hover:dark:border-gray-700 peer-hover:bg-gray-200/60 border-0 peer-hover:border border-dashed border-gray-300 transition-all ease-in-out duration-200 overflow-hidden",children:(0,C.jsx)("span",{className:"text-xs font-medium text-gray-500 text-nowrap transition-all ease-in-out duration-100",children:(0,H.__)("Add Column","pixfort-core-admin")})})]})]})]}),"mobile"===e.responsiveMode&&(0,C.jsxs)(C.Fragment,{children:[(0,C.jsxs)("div",{className:"",children:[(0,C.jsx)(D.A,{title:"Top bar area Settings",options:(0,T.S)().m_topbar_area.options,area:"m_topbar",itemType:"area",linkClasses:"inline-block hover:opacity-80 transition-opacity ease-in-out duration-100",data:t.data.m_topbar.opts,children:(0,C.jsxs)("h5",{className:"group/area flex items-center gap-[3px] text-gray-500 mb-1.5 text-xs font-medium ml-2 rtl:ml-0 rtl:mr-2",children:[(0,H.__)("Top Bar Area Settings","pixfort-core-admin")," ",(0,C.jsx)(y.A,{className:"text-gray-400 dark:text-gray-500 group-hover/area:rotate-180 transition-all ease-in-out duration-200",iconName:"settings"})]})}),(0,C.jsx)("div",{className:"flex gap-2 mb-2",children:(0,C.jsx)(M,{id:"m_topbar_1",area:"m_topbar",col:"m_topbar_1",isAreaSticky:_(t.data.m_topbar.opts),data:t.data.m_topbar.val.m_topbar_1,destinationCol:g,containerClasses:"flex w-full max-h-[68px] box-content group relative shadow-sm border border-gray-200 dark:border-gray-700 rounded-lg mb-1"})})]}),(0,C.jsxs)("div",{className:"",children:[(0,C.jsx)(D.A,{title:"Header area Settings",options:(0,T.S)().m_header_area.options,area:"m_header",itemType:"area",linkClasses:"inline-block hover:opacity-80 transition-opacity ease-in-out duration-100",data:t.data.m_header.opts,children:(0,C.jsxs)("h5",{className:"group/area flex items-center gap-[3px] text-gray-500 mb-1.5 text-xs font-medium ml-2 rtl:ml-0 rtl:mr-2",children:[(0,H.__)("Main Header Area Settings","pixfort-core-admin")," ",(0,C.jsx)(y.A,{className:"text-gray-400 dark:text-gray-500 group-hover/area:rotate-180 transition-all ease-in-out duration-200",iconName:"settings"})]})}),(0,C.jsx)("div",{className:"flex gap-2 mb-2",children:(0,C.jsx)(M,{id:"m_header_1",area:"m_header",col:"m_header_1",isAreaSticky:_(t.data.m_header.opts),data:t.data.m_header.val.m_header_1,destinationCol:g,containerClasses:"flex w-full max-h-[68px] box-content group relative shadow-sm border border-gray-200 dark:border-gray-700 rounded-lg mb-1"})})]}),(0,C.jsxs)("div",{className:"",children:[(0,C.jsx)(D.A,{title:"Stack area Settings",options:(0,T.S)().m_stack_area.options,area:"m_stack",itemType:"area",linkClasses:"inline-block hover:opacity-80 transition-opacity ease-in-out duration-100",data:t.data.m_stack.opts,children:(0,C.jsxs)("h5",{className:"group/area flex items-center gap-[3px] text-gray-500 mb-1.5 text-xs font-medium ml-2 rtl:ml-0 rtl:mr-2",children:[(0,H.__)("Stack Area Settings","pixfort-core-admin")," ",(0,C.jsx)(y.A,{className:"text-gray-400 dark:text-gray-500 group-hover/area:rotate-180 transition-all ease-in-out duration-200",iconName:"settings"})]})}),(0,C.jsx)("div",{className:"flex gap-2",children:(0,C.jsx)(M,{id:"m_stack_1",area:"m_stack",col:"m_stack_1",isAreaSticky:_(t.data.m_stack.opts),destinationCol:g,data:t.data.m_stack.val.m_stack_1,containerClasses:"flex w-full max-h-[68px] box-content group relative shadow-sm border border-gray-200 dark:border-gray-700 rounded-lg mb-1"})})]})]})]}),(0,C.jsx)(j.Hd,{children:S?(0,C.jsx)(B.A,{item:S,area:h,col:"overlay",overlay:!0}):null}),(0,C.jsx)("div",{className:"relative flex items-center justify-center my-4",children:(0,C.jsx)(R,{})})]}),(0,C.jsx)("div",{className:""+("full-screen"===e.fullScreen?"max-w-sm flex-1 min-w-[400px]":"mt-4"),children:(0,C.jsx)("div",{className:(l?"pointer-events-none":"")+" mb-2 flex gap-2 justify-between",children:(0,C.jsx)("div",{className:"flex flex-col flex-wrap gap-2 bg-white dark:bg-gray-800 shadow-sm rounded-xl border border-gray-200 dark:border-gray-700 p-4 overflow-x-scroll w-full",children:(0,C.jsx)(P,{items:t.items,fullScreen:e.fullScreen})})})})]})})})),L=r(94738),W=r(80094);class $ extends o.Component{constructor(e){super(e),(0,s.A)(this,"onDragEnd",(e=>{const{source:t,destination:r}=e;r&&this.props.headerDragEnd({source:t,destination:r})})),(0,s.A)(this,"handleInputChange",(e=>{let t=e.target.value;this.props.updateData(this.props.id,t),this.setState({value:t})})),(0,s.A)(this,"swtichToDesktop",(e=>{e.preventDefault(),this.setState({responsiveMode:"desktop",desktopState:"is_active",mobileState:""}),this.props.setDeviceMode("desktop")})),(0,s.A)(this,"swtichToMobile",(e=>{e.preventDefault(),this.setState({responsiveMode:"mobile",desktopState:"",mobileState:"is_active"}),this.props.setDeviceMode("mobile")})),(0,s.A)(this,"deleteAllContent",(e=>{e.preventDefault(),this.props.deleteHeaderContent();let t=this.state.ts+1;this.setState({ts:t});let r=this;setTimeout((()=>{t+=1,r.setState({ts:t})}),20)})),(0,s.A)(this,"refreshPreview",(()=>{let e=this,t=new FormData;t.append("action","pix_header_preview"),t.append("data",JSON.stringify({data:this.props.headerData.data,options:this.props.optionsData.options,bgColor:this.state.previewBackgroundColor,headerStyle:this.props.currentOptions["pix-header-style"].value,isSecondaryFont:this.props.currentOptions.is_secondary_font.value,containerWidth:this.props.currentOptions["container-width"]?this.props.currentOptions["container-width"].value:"",containerWidthScroll:this.props.currentOptions["container-width-scroll"]?this.props.currentOptions["container-width-scroll"].value:"",containerWidthCustom:this.props.currentOptions["container-width-custom"]?this.props.currentOptions["container-width-custom"].value:"",containerWidthScrollCustom:this.props.currentOptions["container-width-scroll-custom"]?this.props.currentOptions["container-width-scroll-custom"].value:"",previewState:this.state.previewState,darkTestState:this.state.darkTestState})),w.A.post(pixfort_options_obj.ADMIN_LINK,t).then((t=>{e.setState({htmlContent:t.data}),e.applyPreviewState(),setTimeout((()=>{e.applyPreviewState(),e.getHeaderHeight()}),400)}))})),(0,s.A)(this,"getHeaderHeight",(()=>{if(this.iframeRefBack.current&&this.iframeRefBack.current.contentWindow&&this.iframeRefBack.current.contentWindow.getHeaderHeight){let e=this.iframeRefBack.current.contentWindow.getHeaderHeight(),t=e.headerHeight,r=e.headerHeightMobile;this.props.onChange({value:t,valueMobile:r,id:"header-height-data"})}})),(0,s.A)(this,"handleFullScreen",(e=>{e.preventDefault(),document.startViewTransition?document.startViewTransition((()=>{"full-screen"===this.props.fullScreen?this.props.setFullScreen(""):this.props.setFullScreen("full-screen")})):"full-screen"===this.props.fullScreen?this.props.setFullScreen(""):this.props.setFullScreen("full-screen")})),(0,s.A)(this,"handleSaveButton",(e=>{e.preventDefault();let t=document.querySelector(".editor-post-publish-button");t||(t=document.getElementById("publish")),t?(this.props.setFullScreen(""),t.click()):console.error("Save button not found!")})),(0,s.A)(this,"handleBackgroundColorChange",(e=>{this.state.previewBackgroundColor!==e&&this.setState({previewBackgroundColor:e},(()=>{this.refreshPreview()}))})),(0,s.A)(this,"changePreviewState",(()=>{this.setState((e=>({previewState:"default"===e.previewState?"scroll":"default"})),(()=>{this.applyPreviewState()}))})),(0,s.A)(this,"changeDarkTestState",(()=>{this.setState((e=>({darkTestState:"default"===e.darkTestState?"dark":"default"})),(()=>{const e=this.iframeRef.current;if(e&&e.contentWindow)try{let t=!1;"dark"===this.state.darkTestState&&(t=!0),e.contentWindow.changeDarkTestState&&e.contentWindow.changeDarkTestState(t)}catch(e){console.error("Error calling iframe function:",e)}}))})),(0,s.A)(this,"applyPreviewState",(()=>{const e=this.iframeRef.current;if(e&&e.contentWindow)try{let t=!1;"scroll"===this.state.previewState&&(t=!0),e.contentWindow.changePreviewState&&e.contentWindow.changePreviewState(t)}catch(e){console.error("Error calling iframe function:",e)}})),this.state={value:this.props.value,responsiveMode:"desktop",desktopState:"is_active",mobileState:"",htmlContent:"",previewBackgroundColor:"#e4e4e7",previewState:"default",darkTestState:"default",ts:1},this.iframeRef=o.createRef(),this.iframeRefBack=o.createRef(),this.props.loadHeader(this.props.value)}getElementClasses(e){switch(e){case"wishlist":case"cart":return"text-rose-500 bg-red-50/90 border border-rose-200/80 backdrop-blur-md";case"btn":case"menu":return"text-emerald-500 bg-emerald-50 border border-emerald-200/80 backdrop-blur-md";case"social":case"logo":return"text-blue-500 bg-blue-50/90 border border-blue-200/80 backdrop-blur-md";case"language":case"search":return"text-amber-500 bg-amber-50/90 border border-orange-200/80 backdrop-blur-md";default:return"text-gray-500 bg-white border border-gray-200"}}componentDidUpdate(e,t){e.headerData.data===this.props.headerData.data||(0,k.A)(e.headerData.data,this.props.headerData.data)?e.currentOptions===this.props.currentOptions||(0,k.A)(e.currentOptions,this.props.currentOptions)||this.refreshPreview():(this.props.onChange({value:JSON.stringify(this.props.headerData.data),id:this.props.id}),this.refreshPreview())}componentDidMount(){this.handleKeyPress=this.handleKeyPress.bind(this),window.addEventListener("keydown",this.handleKeyPress),setTimeout((()=>{this.getHeaderHeight()}),500);"Dark"===localStorage.getItem("theme")&&this.setState({darkTestState:"dark",previewBackgroundColor:"#27272a"})}componentWillUnmount(){window.removeEventListener("keydown",this.handleKeyPress)}handleKeyPress(e){"Escape"===e.key&&"full-screen"===this.props.fullScreen&&this.handleFullScreen(e)}render(){return"SUCCESS"===this.props.headerDataStatus&&this.props.headerData.isReady&&this.state.ts?(0,C.jsxs)("div",{className:`bg-gray-100 dark:bg-gray-900 box-border relative ${"full-screen"===this.props.fullScreen?"p-6":"p-4"} border-b border-gray-300 dark:border-gray-700 tracking-[-0.0125em]`,children:[(0,C.jsxs)("div",{className:"mb-4 grid grid-cols-12 items-center justify-between px-4 py-2",children:[(0,C.jsxs)("div",{className:"col-span-3 xl:col-span-4 flex flex-row gap-4 justify-start items-center ",children:[(0,C.jsx)("a",{href:"https://pixfort.com/",target:"_blank",className:"shadow-none leading-none",children:(0,C.jsx)(h.A,{className:"shrink-0 text-gray-600/60 dark:text-gray-500 focus:outline-none w-8"})}),(0,C.jsxs)("div",{className:"hidden xl:flex flex-col",children:[(0,C.jsx)("h3",{className:"text-base font-semibold text-gray-950 dark:text-white",children:"Header Builder"}),(0,C.jsxs)("a",{className:"-ml-1.5 px-1.5 py-1 gap-0.5 stroke-gray-700 hover:stroke-gray-900 text-gray-500 dark:text-gray-500 hover:text-gray-600 dark:hover:text-white hover:bg-gray-200/60 dark:bg-gray-900 dark:hover:bg-gray-800 rounded-md text-xs font-medium align-middle inline-flex items-center transition ease-in-out duration-100 group shadow-none",href:pixfort_options_data.config.links.docs_create_header,target:"_blank",title:(0,H.__)("Getting Started?","pixfort-core-admin"),children:[(0,C.jsx)("span",{className:"inline-block",children:(0,H.__)("Getting Started?","pixfort-core-admin")}),(0,C.jsx)(f.A,{className:"w-[13px] h-[13px] rtl:scale-x-[-1]","aria-hidden":"true"})]})]})]}),(0,C.jsxs)("div",{className:"col-span-6 xl:col-span-4 flex items-center justify-center gap-1 text-xs font-semibold",children:[(0,C.jsxs)("a",{href:"#",onClick:this.swtichToDesktop,className:`flex items-center gap-1 p-2 border rounded-lg ${this.state.desktopState?"bg-white dark:bg-gray-800 border-gray-200 dark:border-gray-700 shadow-sm text-gray-950 dark:text-white":"text-gray-500 border-transparent focus:shadow-none hover:bg-gray-200/60 dark:hover:bg-gray-800/60 hover:text-gray-600 dark:hover:text-gray-400"} outline-none focus:outline-none `,children:[(0,C.jsx)(y.A,{iconName:"desktop"}),(0,H.__)("Desktop","pixfort-core-admin")]}),(0,C.jsxs)("a",{href:"#",onClick:this.swtichToMobile,className:`xl:mr-[-63px] rtl:xl:mr-0 rtl:xl:ml-[-63px] flex items-center gap-1 p-2 border rounded-lg ${this.state.mobileState?"bg-white dark:bg-gray-800 border-gray-200 dark:border-gray-700 shadow-sm text-gray-950 dark:text-white":"text-gray-500 border-transparent focus:shadow-none hover:bg-gray-200/60 dark:hover:bg-gray-800/60 hover:text-gray-600 dark:hover:text-gray-400"} outline-none focus:outline-none`,children:[(0,C.jsxs)("span",{className:"flex items-center",children:[(0,C.jsx)(y.A,{iconName:"tablet",className:"-mr-[1px]"}),"+",(0,C.jsx)(y.A,{iconName:"mobile",className:"-ml-[3px]"})]}),(0,H.__)("Tablet & Mobile","pixfort-core-admin")]})]}),(0,C.jsxs)("div",{className:"col-span-3 xl:col-span-4 inline-flex items-center justify-end gap-2",children:[(0,C.jsx)("button",{onClick:this.handleFullScreen,className:`group inline-flex p-2 rounded-lg ${"full-screen"===this.props.fullScreen?"bg-gray-200/60 dark:bg-gray-800/60 hover:bg-gray-200  dark:hover:bg-gray-800":"hover:bg-gray-200/60  dark:hover:bg-gray-800/60"} hover:text-gray-600 dark:hover:text-gray-400 items-center justify-end self-end text-xs font-medium gap-1 text-gray-500 outline-none focus:outline-none shadow-none transition-colors ease-in-out duration-100`,children:"full-screen"===this.props.fullScreen?(0,C.jsxs)(C.Fragment,{children:[(0,C.jsx)(u,{className:"h-5 w-5 shrink-0 text-gray-500 group-hover:text-gray-600 dark:text-gray-500 dark:group-hover:text-gray-400"}),(0,H.__)("Exit Preview Mode","pixfort-core-admin"),(0,C.jsx)("span",{className:"ml-1 hidden lg:inline-block border border-gray-200 dark:border-gray-700 bg-white dark:bg-gray-800 shadow-sm px-1 py-0.5 leading-4 rounded-md text-xs text-gray-400 dark:text-gray-500 shrink-0",children:"Esc"})]}):(0,C.jsxs)(C.Fragment,{children:[(0,C.jsx)(g.A,{className:"h-5 w-5 shrink-0 text-gray-500 group-hover:text-gray-600 dark:text-gray-500 dark:group-hover:text-gray-400"}),(0,H.__)("Preview Mode","pixfort-core-admin"),(0,C.jsx)("span",{className:"hidden xl:inline-flex text-xs ml-0.5 px-1 py-0.5 rounded-md font-medium bg-green-200/60 text-green-600 dark:bg-green-500/20 dark:text-green-400",children:"New"})]})}),"full-screen"===this.props.fullScreen?(0,C.jsx)("button",{onClick:this.handleSaveButton,className:"group inline-flex py-[11px] px-3.5 mr-2 rtl:mr-0 rtl:ml-2 rounded-lg bg-primary hover:opacity-90 text-white items-center justify-end self-end text-xs font-medium outline-none focus:outline-none shadow-none transition-opacity ease-in-out duration-100",children:(0,H.__)("Save","pixfort-core-admin")}):null,(0,C.jsx)("span",{className:"hidden xl:inline-flex items-center",children:(0,C.jsx)(p.A,{className:"",menuButton:"p-0.5 rounded-md text-gray-400 hover:text-gray-500 dark:border-gray-700 dark:bg-gray-800 dark:hover:bg-gray-700/50"})}),(0,C.jsxs)(l.W1,{as:"div",className:"relative inline-block",children:[(0,C.jsxs)(l.W1.Button,{className:"hidden xl:flex p-0.5 mt-2 xl:mt-0 rounded-md text-gray-400 hover:text-gray-500 dark:border-gray-700  dark:bg-gray-800/60 dark:hover:bg-gray-800/90 border dark:text-gray-500 dark:hover:text-gray-300 border-gray-200 text-sm focus:outline-none focus-visible:ring-offset-0 focus-visible:ring-offset-transparent bg-white shadow-sm transition-colors ease-in-out",children:[(0,C.jsx)("span",{className:"sr-only",children:"Extra Options"}),(0,C.jsx)(b.A,{className:"shrink-0 inline-block h-5 w-5 rotate-90"})]}),(0,C.jsx)(d.e,{as:o.Fragment,enter:"transition ease-out duration-100",enterFrom:"transform opacity-0 scale-95",enterTo:"transform opacity-100 scale-100",leave:"transition ease-in duration-75",leaveFrom:"transform opacity-100 scale-100",leaveTo:"transform opacity-0 scale-95",children:(0,C.jsx)(l.W1.Items,{className:"absolute left-1/2 transform -translate-x-1/2 xl:translate-x-0 xl:left-auto xl:right-0 font-medium shadow-xl border border-gray-200 dark:border-gray-700 z-30 mt-1 w-auto xl:w-32 origin-top-right divide-y divide-gray-100 dark:divider-gray-900 rounded-md bg-white backdrop-blur-2xl dark:bg-gray-700 focus:outline-none",children:(0,C.jsx)("div",{className:"xl:p-1",children:(0,C.jsx)(l.W1.Item,{children:({active:e})=>(0,C.jsxs)("button",{className:(e?"bg-gray-100/60 dark:bg-gray-800 dark:text-gray-200":"")+" group w-full text-gray-500 hover:text-gray-900 dark:text-gray-400 dark:hover:text-gray-300 flex items-center rounded p-1.5 text-xs transition-all ease-in-out duration-75 focus:outline-none shadow-none",onClick:e=>{window.confirm("Are you sure that you want to delete all Header elements?")&&this.deleteAllContent(e)},children:[(0,C.jsx)(m.A,{className:"h-[18px] w-[18px] shrink-0 text-gray-400 group-hover:text-gray-500 dark:text-gray-500 dark:group-hover:text-gray-500 rotate-[0deg] group-hover:-rotate-[30deg] transition-all ease-in-out duration-200"}),(0,C.jsx)("span",{className:"hidden xl:block ml-1",children:(0,H.__)("Reset options","pixfort-core-admin")})]})})})})})]})]})]}),"full-screen"===this.props.fullScreen&&(0,C.jsxs)("div",{className:"flex flex-col justify-center items-center",children:[(0,C.jsx)("h5",{className:"text-gray-500 mb-1.5 text-[11px] font-normal",children:(0,H.__)("Header Preview","pixfort-core-admin")}),(0,C.jsxs)("span",{className:`relative leading-[0] pb-0 mb-6 rounded-lg shadow-sm bg-gray-200 dark:bg-gray-800 border border-gray-300/60 dark:border-gray-700 overflow-hidden w-full ${this.state.mobileState?"max-w-[500px]":""} `,children:[(0,C.jsx)("iframe",{ref:this.iframeRef,srcDoc:this.state.htmlContent,style:{width:"100%",height:"220px"},className:""}),(0,C.jsxs)("span",{className:"absolute bottom-2 right-2 inline-flex items-center gap-2",children:[pixfort_options_data.enableDynamicColors?(0,C.jsxs)("span",{className:"bg-white dark:bg-gray-800 p-[5px] rounded-lg border border-gray-300 dark:border-gray-700 shadow-sm flex items-center gap-1.5",children:[(0,C.jsx)("span",{className:"text-[11px] font-normal tracking-tight text-gray-500 ml-0.5 rtl:ml-0 rtl:mr-0.5",children:(0,H.__)("Test Dark Mode","pixfort-core-admin")}),(0,C.jsxs)(L.dO,{checked:"dark"===this.state.darkTestState,onChange:this.changeDarkTestState,className:("dark"===this.state.darkTestState?"bg-green-400":"bg-gray-300 dark:bg-gray-700")+" relative inline-flex h-[20px] w-[34px] shrink-0 cursor-pointer rounded-full border-2 border-transparent transition-colors duration-200 ease-in-out focus:outline-none focus-visible:ring-2 focus-visible:ring-white focus-visible:ring-opacity-75 p-0",children:[(0,C.jsx)("span",{className:"sr-only",children:"Test Dark Mode"}),(0,C.jsx)("span",{"aria-hidden":"true",className:("dark"===this.state.darkTestState?"translate-x-[14px] rtl:translate-x-[-14px]":"translate-x-0 dark:bg-gray-500")+" pointer-events-none inline-block h-[16px] w-[16px] transform rounded-full bg-white shadow-lg ring-0 transition duration-200 ease-in-out"})]})]}):null,(0,C.jsxs)("span",{className:"bg-white dark:bg-gray-800 p-[5px] rounded-lg border border-gray-300 dark:border-gray-700 shadow-sm flex items-center",children:[(0,C.jsx)("span",{className:"text-[11px] font-normal tracking-tight text-gray-500 ml-0.5 rtl:ml-0 rtl:mr-0.5",children:(0,H.__)("Test Scroll (Beta)","pixfort-core-admin")}),(0,C.jsx)("span",{className:"scale-90 mr-1 -ml-1 rtl:-mr-1 rtl:ml-1",children:(0,C.jsx)(W.A,{tooltipText:"Allows you to check the header in the scroll state",type:"default"})}),(0,C.jsxs)(L.dO,{checked:"scroll"===this.state.previewState,onChange:this.changePreviewState,className:("scroll"===this.state.previewState?"bg-green-400":"bg-gray-300 dark:bg-gray-700")+" relative inline-flex h-[20px] w-[34px] shrink-0 cursor-pointer rounded-full border-2 border-transparent transition-colors duration-200 ease-in-out focus:outline-none focus-visible:ring-2 focus-visible:ring-white focus-visible:ring-opacity-75 p-0",children:[(0,C.jsx)("span",{className:"sr-only",children:"Header Scroll State"}),(0,C.jsx)("span",{"aria-hidden":"true",className:("scroll"===this.state.previewState?"translate-x-[14px] rtl:translate-x-[-14px]":"translate-x-0 dark:bg-gray-500")+" pointer-events-none inline-block h-[16px] w-[16px] transform rounded-full bg-white shadow-lg ring-0 transition duration-200 ease-in-out"})]})]}),(0,C.jsxs)("span",{className:"bg-white dark:bg-gray-800 p-2 rounded-lg border border-gray-300 dark:border-gray-700 shadow-sm flex items-center space-x-2",children:[(0,C.jsx)("span",{className:"text-[11px] font-normal tracking-tight text-gray-500",children:(0,H.__)("Test Background","pixfort-core-admin")}),["#ffffff","#e4e4e7","#27272a"].map(((e,t)=>(0,C.jsx)("span",{className:"w-4 h-4 rounded-full cursor-pointer hover:opacity-80 transition-opacity ease-in-out duration-100 "+(this.state.previewBackgroundColor===e?"outline outline-2 outline-primary":" outline outline-1 outline-gray-200 dark:outline-gray-700"),style:{backgroundColor:e},onClick:()=>this.handleBackgroundColorChange(e)},t)))]})]})]})]}),(0,C.jsx)(F,{onDragEnd:this.onDragEnd,responsiveMode:this.state.responsiveMode}),(0,C.jsx)("iframe",{ref:this.iframeRefBack,srcDoc:this.state.htmlContent,className:"opacity-0 h-0 w-full"}),(0,C.jsx)("div",{className:"font-normal text-xs mx-6 pt-4 text-gray-400/80 text-center dark:text-gray-500/80",children:(0,H.__)("pixfort © All rights reserved.","pixfort-core-admin")})]}):(0,C.jsx)("div",{children:"Loading..."})}}var K=(0,n.Ng)((e=>({headerDataStatus:e.status.loadHeaderData,headerData:e.header,currentOptions:e.header.currentOptions,fullScreen:e.status.fullScreen,optionsData:e.data})),(e=>({updateData(t,r){e((0,i.O6)(t,r))},headerDragEnd(t){e((0,c.xz)(t))},loadHeader(t){e((0,c.Y7)(t))},deleteHeaderContent(){e((0,c.em)())},setFullScreen(t){e((0,v.sg)(t))},setDeviceMode(t){e((0,O.cq)(t))}})))($)}}]);