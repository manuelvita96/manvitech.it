"use strict";(window.webpackChunkpixfort_core=window.webpackChunkpixfort_core||[]).push([[2170],{72170:function(e,t,s){s.r(t);var r=s(64467),i=s(96540),a=s(80094),o=s(86528),l=(s(26741),s(54018)),n=s(74848);class p extends i.Component{constructor(e){super(e),(0,r.A)(this,"handleInputChange",(e=>{let t=e.target.value;this.setState({value:t}),this.props.onChange({value:t,id:this.props.id})})),(0,r.A)(this,"removeImage",(()=>{this.setState({value:"",preview:""}),this.props.onChange({value:"",id:this.props.id})})),(0,r.A)(this,"openMediaModal",(e=>{e.preventDefault(),e.stopPropagation();let t=this;var s=wp.media.frames.file_frame=wp.media({title:"Select or upload image",library:{type:["image"]},button:{text:"Select"},multiple:!1});return s.on("select",(function(){var e=s.state().get("selection").first().toJSON();console.log({attachment:e}),t.props.local?(t.setState({value:e.id,preview:e.url}),t.props.onChange({value:e.id,id:t.props.id})):(t.setState({value:e.url,preview:e.url}),t.props.onChange({value:e.url,id:t.props.id})),s.close()})),s.open(),!1}));let t="",s="text";this.props.preview&&(t=this.props.preview),this.props.local&&(s="hidden"),this.props.value?this.state={value:this.props.value,preview:t,inputType:s}:this.state={value:"",preview:t,inputType:s}}render(){return(0,n.jsxs)("div",{className:`flex flex-col sm:flex-row justify-between items-start sm:items-center mx-6 py-6 ${!0===this.props.hideBorderBottom?"":"border-b border-gray-100"} ${!0===this.props.showBorderTop?"border-t border-gray-100":""} dark:border-gray-700 `,children:[(0,n.jsxs)("div",{className:"pr-2 pb-2 text-sm shrink",children:[(0,n.jsxs)("label",{className:"mb-0 flex items-center cursor-auto",children:[(0,n.jsx)("span",{className:"font-medium tracking-[-0.01em] text-gray-900 dark:text-white",children:this.props.label}),this.props.tooltipImage||this.props.tooltipText?(0,n.jsx)(a.A,{tooltipText:this.props.tooltipText,tooltipImage:this.props.tooltipImage,type:"default"}):null]}),(0,n.jsx)("div",{className:"mt-1 mb-2 text-gray-500",children:this.props.description})]}),(0,n.jsxs)("div",{className:"w-60 flex-col items-end justify-end shrink-0",children:[this.state.value&&(0,n.jsx)("div",{className:"mb-2 flex justify-start sm:justify-center bg-gray-50 border border-gray-200 dark:bg-gray-700/50 dark:border-gray-700 shadow-sm rounded-md overflow-hidden p-2",children:this.props.local?(0,n.jsx)("img",{className:"max-h-24 inline-block self-end",src:this.state.preview}):(0,n.jsx)("img",{className:"max-h-24 inline-block self-end",src:this.state.value})}),(0,n.jsx)("input",{className:"mb-2 relative w-full cursor-text rounded-md bg-white dark:bg-gray-700 dark:text-gray-400 py-2 pl-3 text-left shadow-sm focus-visible:ring-0 focus-visible:ring-transparent focus-visible:ring-opacity-0 focus-visible:ring-offset-0 focus-visible:ring-offset-transparent text-sm border border-gray-200 dark:border-0",name:`field-${this.props.id}`,type:this.state.inputType,onChange:this.handleInputChange,value:this.state.value,placeholder:"Insert image URL"}),(0,n.jsxs)("div",{className:"flex justify-end",children:[(0,n.jsxs)("button",{onClick:this.openMediaModal,className:"inline-flex w-full items-center text-xs font-semibold bg-primary/10 text-primary hover:bg-primary/20 dark:bg-primary/20 dark:hover:bg-primary/30 justify-center rounded-md border border-transparent px-3 py-2 transition-all ease-in-out",children:[(0,n.jsx)(o.A,{className:"shrink-0 inline-block mr-1",width:"20px",height:"20px"}),this.state.preview||this.props.value?"Change Image":"Select Image"]}),this.state.value&&(0,n.jsx)("button",{onClick:this.removeImage,className:"ml-2 inline-flex items-center shrink-0 text-xs font-semibold shadow-sm bg-white border border-gray-200 dark:bg-gray-700/80 text-gray-400 dark:text-gray-500 hover:text-gray-500 dark:hover:text-gray-600 hover:bg-gray-100/60 dark:hover:bg-gray-700/50 justify-center rounded-md px-3 py-2 transition-all ease-in-out",children:(0,n.jsx)(l.A,{className:"shrink-0 inline-block",width:"20px",height:"20px"})})]})]})]})}}(0,r.A)(p,"defaultProps",{label:"Image",value:"",local:!1,onChange:()=>{}}),t.default=p}}]);