"use strict";(window.webpackChunkpixfort_core=window.webpackChunkpixfort_core||[]).push([[7733],{37733:function(e,t,a){a.r(t),a.d(t,{default:function(){return k}});var i=a(64467),s=a(96540),n=a(77832),o=a(34811),l=a(61225),r=a(57360),d=a(35152),p=a(80669),c=a(92784),m=a(95746),h=a(80094),u=a(74848);class x extends s.Component{constructor(e){super(e),(0,i.A)(this,"handleInputChange",(e=>{let t=e.target.value;this.setState({value:t}),this.props.onChange({value:t,id:this.props.id})})),this.props.value?this.state={value:this.props.value}:this.state={value:""}}render(){return(0,u.jsxs)("div",{className:`flex flex-col sm:flex-row justify-between items-start sm:items-center mx-6 ${this.props.classes} ${!0===this.props.hideBorderBottom?"":"border-b border-gray-100"} ${!0===this.props.showBorderTop?"border-t border-gray-100":""} dark:border-gray-700 `,children:[(0,u.jsxs)("div",{className:"pb-2 sm:pb-0 pr-2 text-sm sm:grow",children:[(0,u.jsxs)("span",{className:"mb-0 flex items-center cursor-auto",children:[(0,u.jsx)("label",{className:"font-semibold text-gray-900",children:this.props.label}),this.props.tooltipImage||this.props.tooltipText?(0,u.jsx)(h.A,{tooltipText:this.props.tooltipText,tooltipImage:this.props.tooltipImage,type:"default"}):null]}),this.props.description&&(0,u.jsx)("div",{className:"mt-1 pb-2 md:pb-0 font-normal text-gray-500 block w-full pr-6",children:this.props.description})]}),(0,u.jsxs)("div",{className:"text-left w-60 relative shrink-0",children:[(0,u.jsx)("input",{type:"text",onChange:this.handleInputChange,value:this.state.value,placeholder:this.props.placeholder,pattern:this.props.pattern,readOnly:this.isReadOnly,className:"relative w-full cursor-text rounded-md bg-white py-2 pl-3 text-left shadow-sm focus-visible:ring-2 focus-visible:ring-white focus-visible:ring-opacity-75 focus-visible:ring-offset-0 focus-visible:ring-offset-transparent text-sm border border-gray-200 invalid:[&:not(:placeholder-shown):focus]:border-rose-500 invalid:[&:not(:placeholder-shown):not(:focus)]:border-rose-500 invalid:[&:not(:placeholder-shown):focus]:ring-rose-500 [&:not(:placeholder-shown):not(:focus):invalid~span]:block read-only:bg-gray-100"}),(0,u.jsx)("span",{className:"mt-2 hidden text-xs text-rose-400 absolute -bottom-5 left-0",children:"Invalid input"})]})]})}}(0,i.A)(x,"defaultProps",{label:"Text Input",value:"",classes:"py-6",onChange:()=>{}});var g=x,y=a(59199),v=a(72170),f=a(27311),b=a(54771);class _ extends s.Component{constructor(e){super(e),(0,i.A)(this,"onOpenModal",(e=>(e.stopPropagation(),e.preventDefault(),this.setState({open:!0}),!1))),(0,i.A)(this,"onCloseModal",(()=>{this.setState({open:!1,modalClasses:""})})),(0,i.A)(this,"onFieldChange",(e=>{let t=structuredClone(this.state.options),a=!1;t.forEach(((i,s)=>{t[s].name===e.id&&(t[s].val=e.value,a=!0)})),a||t.push({name:e.id,val:e.value}),this.setState({options:t})})),(0,i.A)(this,"onSaveModal",(()=>{this.setState({open:!1});let e=[],t=structuredClone(this.state.options);t.forEach(((a,i)=>{let s={};s.name=t[i].name,s.val=t[i].val,e.push(s)})),this.state.res&&(this.state.res.value=JSON.stringify(e))})),this.state={open:!1,options:{test:123},res:!1,modalAnimationIn:"customEnterModalAnimation",modalClasses:""},this.handleClick=this.handleClick.bind(this)}componentDidMount(){document.addEventListener("click",this.handleClick)}componentWillUnmount(){document.removeEventListener("click",this.handleClick)}dependencyCheck(e){let t=!1,a=this.state.options;if(e.hasOwnProperty("dependency")){let i=e.dependency,s=i.val,n="=";i.hasOwnProperty("op")&&(n=i.op),i.hasOwnProperty("fields")?Object.keys(a).map((e=>{let o=a[e];if(i.fields.includes(e)){let e=o.val;"radio"!==o.type||o.val&&""!==o.val||o.default&&(e=o.default),"checkbox"!==o.type||o.val&&"0"!==o.val||(e=!1),"="===n&&s.includes(e)?this.dependencyCheck(o)&&(t=!0):"!="!==n||s.includes(e)||this.dependencyCheck(o)&&(t=!0)}})):Object.keys(a).map((e=>{let o=a[e];if(o.name===i.field){let e=o.val;"radio"!==o.type||o.val&&""!==o.val?"checkbox"!==o.type||o.val&&"0"!==o.val?"media"===o.type&&o.val&&""===o.val.id&&""===o.val.url&&(e=!1):e=!1:o.default&&(e=o.default),"="===n&&s.includes(e)?this.dependencyCheck(o)&&(t=!0):"!="!==n||s.includes(e)?">="===n&&e>=s[0]&&this.dependencyCheck(o)&&(t=!0):this.dependencyCheck(o)&&(t=!0)}}))}else t=!0;return t}handleClick(e){if(e.target&&e.target.matches(".pixfort_menu_item_btn")){e.preventDefault();let t=2,a=e.target.closest(".menu-item");a&&(a.classList.contains("menu-item-depth-0")&&(t=0),a.classList.contains("menu-item-depth-1")&&(t=1),a.classList.contains("menu-item-depth-2")&&(t=2));let i=e.target.closest(".pix-menu-item-opts").querySelector(".pix-mega-opt input"),s=!!i&&i.checked,n="pix-normal-menu-item";s&&(n="pix-mega-menu-item");let o=e.target.parentElement.querySelector(".pix-menu-item-res-data"),l=o?o.value:"",r=[];if(r.push({type:"icon",name:"menu_item_icon",title:"Icon",classes:"",val:""}),s&&r.push({type:"select",name:"mega_style",title:"Mega Menu Size",val:"",classes:"pix_mega_opt",options:[{value:"",name:"Default"},{value:"pix-mega-style-sm",name:"Small"},{value:"pix-mega-style-md",name:"Medium"},{value:"pix-mega-style-lg",name:"Big"},{value:"pix-mega-style-full",name:"Full width"}]}),2===t&&r.push({type:"select",name:"menu_item_style",title:"Menu item Style",val:"",classes:"pix_item_opt",options:[{value:"",name:"Default"},{value:"pix-item-heading",name:"Heading item"}],desc:"This option will be applied if this item is not converted to Box item."}),1!==t&&2!==t||(r.push({type:"checkbox",name:"pix_is_image_item",title:(0,b.__)("Convert to Box item","pixfort-core-admin"),val:!1}),r.push({type:"text",name:"pix_box_title",title:(0,b.__)("Box Title","pixfort-core-admin"),val:"",dependency:{field:"pix_is_image_item",val:[!0,"1"]}}),r.push({type:"text",name:"pix_box_text",title:(0,b.__)("Box Text","pixfort-core-admin"),val:"",dependency:{field:"pix_is_image_item",val:[!0,"1"]}}),r.push({type:"image",name:"pix_bg_image",title:(0,b.__)("Box Background Image","pixfort-core-admin"),val:"",dependency:{field:"pix_is_image_item",val:[!0,"1"]}}),r.push({type:"select",name:"pix_box_style",title:(0,b.__)("Box style","pixfort-core-admin"),val:"default",options:[{name:(0,b.__)("Default","pixfort-core-admin"),value:"default"},{name:(0,b.__)("With padding","pixfort-core-admin"),value:"padding"},{name:(0,b.__)("With padding (No padding top)","pixfort-core-admin"),value:"padding-no-top"}],dependency:{field:"pix_is_image_item",val:[!0,"1"]}}),r.push({type:"checkbox",name:"pix_is_full_height",title:(0,b.__)("Make the box full column height","pixfort-core-admin"),val:!1,dependency:{field:"pix_is_image_item",val:[!0,"1"]}}),r.push({type:"select",name:"pix_box_title_color",title:(0,b.__)("Box Title Color","pixfort-core-admin"),val:"heading-default",options:PIX_HEADER_DATA.menu_text_colors_groups,hideBorderBottom:!0,groups:!0,dependency:{field:"pix_is_image_item",val:[!0,"1"]}}),r.push({type:"select",name:"pix_box_text_color",title:(0,b.__)("Box Text Color","pixfort-core-admin"),val:"body-default",options:PIX_HEADER_DATA.menu_text_colors_groups,hideBorderBottom:!0,groups:!0,dependency:{field:"pix_is_image_item",val:[!0,"1"]}}),r.push({type:"select",name:"pix_box_button_color",title:(0,b.__)("Box Button Color","pixfort-core-admin"),val:"heading-default",options:PIX_HEADER_DATA.menu_text_colors_groups,hideBorderBottom:!0,groups:!0,dependency:{field:"pix_is_image_item",val:[!0,"1"]}})),l){let t=!1;try{t=JSON.parse(l)}catch(e){}t&&t.forEach((function(e){r.forEach((function(t){t.name===e.name&&(t.val=e.val)}))}))}this.setState({open:!0,options:r,res:o})}}test(){}render(){return(0,u.jsx)(u.Fragment,{children:(0,u.jsx)("div",{children:(0,u.jsx)(n.e,{appear:!0,show:this.state.open,as:s.Fragment,children:(0,u.jsxs)(o.lG,{as:"div",static:!0,className:"pix-header-options-area pix-main-header-modal relative z-[100000]",onClose:this.test,children:[(0,u.jsx)(n.e.Child,{as:s.Fragment,enter:"ease-out duration-200",enterFrom:"opacity-0",enterTo:"opacity-100",leave:"ease-in duration-200",leaveFrom:"opacity-100",leaveTo:"opacity-0",children:(0,u.jsx)("div",{className:"fixed inset-0 bg-gradient-to-t from-gray-100/90 to-white/30 dark:bg-gradient-to-t dark:from-gray-900 dark:to-gray-800/20"})}),(0,u.jsx)("div",{className:"fixed inset-0 overflow-y-auto z-[100000]",children:(0,u.jsx)("div",{className:"flex min-h-full items-center justify-center p-4 text-center",children:(0,u.jsx)(n.e.Child,{as:s.Fragment,enter:"transition-all ease-out duration-100",enterFrom:"transform opacity-0 scale-95 translate-y-4",enterTo:"transform opacity-100 scale-100 translate-y-0",leave:"transition-all ease-in duration-100",leaveFrom:"transform opacity-100 scale-100 translate-y-0",leaveTo:"transform opacity-0 scale-95 translate-y-4",children:(0,u.jsxs)(o.lG.Panel,{className:"w-full max-w-3xl mt-[100px] mb-[200px] transform rounded-lg bg-white border border-gray-200 dark:border-gray-700 dark:bg-gray-800 shadow-2xl shadow-gray-300 dark:shadow-gray-900 ring-0 ring-transparent ring-opacity-0 z-10 focus:outline-none text-left  rtl:text-right align-middle transition-all",children:[(0,u.jsx)(o.lG.Title,{as:"h3",className:"px-6 py-4 border-b border-gray-200 text-sm font-medium text-gray-900 dark:text-white dark:border-b dark:border-gray-700 tracking-[-0.015em]",children:(0,u.jsxs)("div",{className:"flex items-center justify-between",children:["Menu Item Options",(0,u.jsx)("button",{type:"button",className:"inline-flex text-xs items-center justify-center font-medium text-gray-400 dark:text-gray-500 dark:hover:text-white hover:opacity-80 transition-all ease-in-out duration-200 outline-none focus:outline-none",onClick:this.onCloseModal,children:(0,u.jsx)(f.A,{className:"shrink-0 inline-block text-gray-400 dark:text-gary-500 w-7 h-7"})})]})}),(0,u.jsx)("div",{className:"pix-modal-option-content py-4",children:this.state.options&&this.state.options.length?(0,u.jsx)(u.Fragment,{children:Object.keys(this.state.options).map((e=>{let t=this.state.options[e],a=t.val;switch(t.type){case"pixid":return(0,u.jsx)("div",{className:"",children:this.dependencyCheck(t)&&(0,u.jsx)(c.A,{id:t.name,value:a,label:t.title,isHidden:!0,auto:!0,onChange:this.onFieldChange})},e);case"text":return(0,u.jsx)("div",{className:"modal-option-field",children:this.dependencyCheck(t)&&(0,u.jsx)(g,{id:t.name,value:a,label:t.title,description:t.description,onChange:this.onFieldChange})},e);case"icon":return(0,u.jsx)("div",{className:"modal-option-field",children:this.dependencyCheck(t)&&(0,u.jsx)(p.default,{id:t.name,value:a,label:t.title,onChange:this.onFieldChange})},e);case"checkbox":return(0,u.jsx)("div",{className:"modal-option-field",children:this.dependencyCheck(t)&&(0,u.jsx)(y.default,{id:t.name,value:a,label:t.title,classes:"py-3",onChange:this.onFieldChange})},e);case"image":return(0,u.jsx)("div",{className:"modal-option-field",children:this.dependencyCheck(t)&&(0,u.jsx)(v.default,{id:t.name,value:a,label:t.title,description:t.description,classes:"py-3",onChange:this.onFieldChange,dynamic:t.dynamic})},e);case"select":return(0,u.jsx)("div",{className:"modal-option-field",children:this.dependencyCheck(t)&&(0,u.jsx)(m.default,{id:t.name,default:t.val,store:"header",value:a,label:t.title,options:t.options,description:t.description,onChange:this.onFieldChange,hideBorderBottom:t.hideBorderBottom,storePath:{type:"area",area:this.props.area},groups:t.groups})},e)}}))}):null}),(0,u.jsx)("div",{className:"px-6 py-4 flex flex-col md:flex-row items-center justify-end border-t border-gray-200 dark:border-gray-700 -mt-[1px]",children:(0,u.jsxs)("div",{className:"tracking-[-0.015em] text-sm",children:[(0,u.jsx)("button",{type:"button",className:"mr-3 rtl:mr-0 rtl:ml-2 inline-flex items-center justify-center rounded-md border border-gray-200 dark:border-gray-600 bg-gray-50 dark:bg-gray-700 px-6 py-2.5 font-medium text-gray-900 dark:text-gray-400 dark:hover:text-white hover:bg-gray-100/80 shadow-sm dark:hover:bg-gray-600/80 transition-all ease-in-out duration-150 outline-none",onClick:this.onCloseModal,children:"Cancel"}),(0,u.jsx)("button",{onClick:this.onSaveModal,className:"inline-flex items-center justify-center rounded-md border border-black/10 dark:border-white/20 bg-primary dark:bg-primary px-10 py-2.5 font-medium text-white dark:text-white hover:bg-primary/90 dark:hover:bg-gray-100/90 sahdow-sm transition-all ease-in-out duration-150 focus:outline-none",type:"button",children:"Save"})]})})]})})})})]})})})})}}var k=(0,l.Ng)((e=>({optionsDataStatus:e.status.loadData,saveDataStatus:e.status.saveData,optionsData:e.data,uValsStatus:e.header.uVals,main:e.main})),(e=>({loadData(t){e((0,r.Ze)(t))},loadHeader(t){e((0,d.Y7)(t))}})))(_)}}]);