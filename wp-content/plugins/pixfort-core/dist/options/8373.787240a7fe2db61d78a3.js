"use strict";(window.webpackChunkpixfort_core=window.webpackChunkpixfort_core||[]).push([[8373],{18373:function(t,e,r){r.r(e),r.d(e,{default:function(){return b}});var a,s=r(64467),i=r(96540),o=r(61225),l=r(19092),n=r(80094),h=r(77832),d=r(20301),p=r(28393),c=r(21005),u=r(18507);function g(){return g=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var a in r)({}).hasOwnProperty.call(r,a)&&(t[a]=r[a])}return t},g.apply(null,arguments)}var y=function(t){return i.createElement("svg",g({xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24"},t),a||(a=i.createElement("path",{fill:"none",stroke:"currentcolor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6,9 L18,9 L18,19 C18,20.1045695 17.1045695,21 16,21 L8,21 C6.8954305,21 6,20.1045695 6,19 L6,9 L6,9 Z M5,6 L19,6 M9,6 L9,5 C9,3.8954305 9.8954305,3 11,3 L13,3 C14.1045695,3 15,3.8954305 15,5 L15,6 L15,6 M10,12 L10,18 M14,12 L14,18"})))},m=r(43694),x=r(74848);class v extends i.Component{constructor(t){super(t),(0,s.A)(this,"popover",{position:"absolute"}),(0,s.A)(this,"cover",{position:"fixed",top:"0px",right:"0px",bottom:"0px",left:"0px",zIndex:"3"}),(0,s.A)(this,"componentDidUpdate",(()=>{if(this.props.dynamic){if(this.props.value&&"object"==typeof this.props.value){const t=this.props.value.light||"#333",e=this.props.value.dark||"#333";this.state.lightColor===t&&this.state.darkColor===e||this.setState({lightColor:t,darkColor:e,value:"light"===this.state.activeMode?t:e})}this.props.dynamicColors||"light"===this.state.activeMode||this.setState({activeMode:"light",value:this.state.lightColor})}else this.state.value!==this.props.value&&this.setState({value:this.props.value});document.addEventListener("mousedown",this.handleClickOutside)})),(0,s.A)(this,"getButtonStyle",(t=>({background:t}))),(0,s.A)(this,"parseValue",(t=>{try{let e=JSON.parse(t);return!!isNaN(e)&&e}catch(t){return!1}return!1})),(0,s.A)(this,"handleClick",(t=>{t.preventDefault(),this.setState({display:!this.state.display})})),(0,s.A)(this,"handleClose",(()=>{this.setState({display:!1})})),(0,s.A)(this,"handleChangeComplete",(t=>{})),(0,s.A)(this,"getRgbaColor",(t=>`rgba(${t.r}, ${t.g}, ${t.b}, ${t.a})`)),(0,s.A)(this,"handleChange",(t=>{let e=t.hex;if(this.state.disableAlpha||(e=this.getRgbaColor(t.rgb)),this.props.onChange)if(this.props.dynamic){const t="light"===this.state.activeMode?e:this.state.lightColor;let r="dark"===this.state.activeMode?e:this.state.darkColor,a=this.state.clearDarkStyle;this.state.clearDarkStyle&&("light"===this.state.activeMode?r=this.state.lightColor:a=!1),this.props.onChange({value:{light:t,dark:r,clearDarkStyle:a},id:this.props.id}),this.setState({value:e,lightColor:t,darkColor:r,clearDarkStyle:a})}else this.props.onChange({value:e,id:this.props.id}),this.setState({value:e});this.setState({value:e})})),(0,s.A)(this,"handleInputChange",(t=>{let e=t.target.value;this.setState({value:e}),this.props.onChange({value:e,id:this.props.id})})),(0,s.A)(this,"handleClickOutside",(t=>{this.state.wrapperRef.current&&!this.state.wrapperRef.current.contains(t.target)&&this.handleClose()})),(0,s.A)(this,"componentWillUnmount",(()=>{document.removeEventListener("mousedown",this.handleClickOutside)})),(0,s.A)(this,"onReset",(()=>{if(this.props.dynamic){let t="#333",e="#333";this.props.default&&("object"==typeof this.props.default?(t=this.props.default.light||"#333",e=this.props.default.dark||"#333"):(t=this.props.default,e=this.props.default)),this.setState({lightColor:t,darkColor:e,value:"light"===this.state.activeMode?t:e}),this.props.onChange({value:{light:t,dark:e},id:this.props.id})}else this.setState({value:this.props.default}),this.props.onChange({value:this.props.default,id:this.props.id})})),(0,s.A)(this,"handleModeSwitch",(t=>{const e="light"===t?this.state.lightColor:this.state.darkColor;this.setState({activeMode:t,value:e})})),(0,s.A)(this,"getCurrentDisplayColor",(()=>this.props.dynamic?"light"===this.state.activeMode?this.state.lightColor:this.state.darkColor:this.state.value)),(0,s.A)(this,"onClearDarkStyle",(()=>{this.setState({clearDarkStyle:!0,value:this.state.lightColor,darkColor:this.state.lightColor}),this.props.onChange({value:{light:this.state.lightColor,dark:this.state.lightColor,clearDarkStyle:!0},id:this.props.id})})),(0,s.A)(this,"canReset",(()=>this.props.dynamic?this.props.default.light!==this.state.lightColor||this.props.default.dark!==this.state.darkColor:this.props.default!==this.state.value));let e=this.props.label||"Color Input",r="#333",a="#333",o="#333",l=this.props.disableAlpha,n=i.createRef(),h=!1;if(this.props.dynamic)if(this.props.value&&"object"==typeof this.props.value)a=this.props.value.light||"#333",o=this.props.value.dark||"#333",r=a,this.props.value.clearDarkStyle&&(h=!0);else if(this.props.value&&""!==this.props.value){let t=this.parseValue(this.props.value);t?(a=t.light||"#333",o=t.dark||"#333",r=t.light||"#333",h=t.clearDarkStyle||!1):(a=this.props.value,o=this.props.value,r=this.props.value,h=!0)}else this.props.default&&("object"==typeof this.props.default?(a=this.props.default.light||"#333",o=this.props.default.dark||"#333",r=a,(this.props.default.clearDarkStyle||a===o)&&(h=!0)):(a=this.props.default,o=this.props.default,r=this.props.default,h=!0));else this.props.value&&""!==this.props.value?r=this.props.value:this.props.default&&(r=this.props.default);this.props.dynamic?this.props.onChange({value:{light:a,dark:o},id:this.props.id}):this.props.onChange({value:r,id:this.props.id}),this.state={label:e,value:r,lightColor:a,darkColor:o,activeMode:"light",display:!1,disableAlpha:l,wrapperRef:n,clearDarkStyle:h}}render(){return(0,x.jsxs)("div",{className:`flex items-center justify-between  ${this.props.classes} ${!0===this.props.hideBorderBottom?"":"border-b border-gray-100"} ${!0===this.props.showBorderTop?"border-t border-gray-100":""} dark:border-gray-700 `,children:[(0,x.jsxs)("div",{className:"text-sm "+(this.props.enableLabelEdit?"flex items-center":""),children:[(0,x.jsxs)("label",{className:"relative font-medium tracking-[-0.01em] text-gray-900 dark:text-white cursor-auto",children:[this.props.enableLabelEdit?(0,x.jsxs)(x.Fragment,{children:[(0,x.jsx)("input",{type:"text",className:"relative peer w-full cursor-text font-medium rounded-none bg-transparent border-transparent border-b-gray-200 border-dashed  dark:border-b-gray-700 group-hover/item:border group-hover/item:border-gray-200 group-hover/item:border-solid group-hover/item:rounded-md  group-hover/item:shadow-sm focus:bg-gray-50 focus:border focus:border-gray-200 focus:border-solid focus:rounded-md focus:shadow-sm group-hover/item:dark:bg-gray-700 group-hover/item:dark:border group-hover/item:dark:border-gray-700 group-hover/item:dark:border-solid dark:focus:bg-gray-700 dark:focus:border dark:focus:border-gray-600 dark:focus:border-solid text-gray-900 dark:text-white focus:text-gray-black dark:focus:text-gray-300 px-2.5 py-1.5 text-left rtl:text-right outline-none focus-visible:ring-0 focus-visible:ring-transparent focus-visible:ring-opacity-0 focus-visible:ring-offset-0 focus-visible:ring-offset-transparent text-sm transition-all ease-in-out duration-75",value:this.props.label,onChange:t=>this.props.onLabelChange({value:t.target.value,id:this.props.id})}),(0,x.jsx)(m.A,{width:"20px",height:"20px",className:"pointer-events-none opacity-0 group-hover/item:opacity-100 group-hover/item:scale-100 scale-125 inline-block peer-focus:scale-75 peer-focus:opacity-0 text-gray-400 dark:text-gray-500 shrink-0 absolute right-2 inset-y-[6px] rtl:right-auto rtl:left-2 transition-all ease-in-out duration-150"})]}):this.props.label,this.props.tooltipImage||this.props.tooltipText?(0,x.jsx)(n.A,{tooltipText:this.props.tooltipText,tooltipImage:this.props.tooltipImage,type:"default"}):null]}),(0,x.jsx)("div",{className:"mt-1 mb-2 text-gray-500",children:this.props.description})]}),(0,x.jsx)("div",{className:"relative",children:(0,x.jsxs)("div",{className:"flex items-center",children:[(0,x.jsx)("div",{className:"inline-block leading-3",children:(0,x.jsx)(h.e,{show:!0===this.props.enableReset&&this.canReset(),enter:"transition-opacity duration-200",enterFrom:"opacity-0",enterTo:"opacity-100",leave:"transition-opacity duration-100",leaveFrom:"opacity-100",leaveTo:"opacity-0",children:(0,x.jsxs)("button",{onClick:this.onReset,type:"button",className:"group inline-flex items-center justify-center rounded-full border border-black/10 dark:border-gray-700 px-0.5 my-0 mr-2 rtl:mr-0 rtl:ml-2 text-xs font-medium shadow-sm text-gray-900 dark:text-white transition ease-in-out duration-200 focus:outline-none tracking-tight",children:[(0,x.jsx)(p.A,{className:"h-[18px] w-[18px] shrink-0 text-gray-300 group-hover:text-gray-500 dark:text-gray-500 dark:group-hover:text-gray-500 rotate-[0deg] group-hover:-rotate-[30deg] transition-all ease-in-out duration-200"}),(0,x.jsx)("span",{className:"hidden md:inline-flex items-center overflow-hidden w-0 h-5 group-hover:w-[40px] relative transition-all ease-out duration-200",children:(0,x.jsx)("span",{className:"whitespace-nowrap absolute left-0 opacity-0 ml-[1px] group-hover:opacity-100 text-gray-500 tracking-[-0.015em] transition-opacity ease-out duration-150",children:"Reset"})})]})})}),!0===this.props.enableDeleteButton&&(0,x.jsx)("div",{className:"inline-block leading-3 opacity-0 group-hover/item:opacity-100",children:(0,x.jsx)(h.e,{show:!0===this.props.enableDeleteButton,enter:"transition-opacity duration-200",enterFrom:"opacity-0",enterTo:"opacity-100",leave:"transition-opacity duration-100",leaveFrom:"opacity-100",leaveTo:"opacity-0",children:(0,x.jsxs)("button",{onClick:this.props.onDelete,type:"button",className:"group inline-flex items-center justify-center rounded-full border border-black/10 dark:border-gray-700 px-1 my-0 mr-2 rtl:mr-0 rtl:ml-2 text-xs font-medium shadow-sm text-gray-900 dark:text-white transition ease-in-out duration-200 focus:outline-none tracking-tight",children:[(0,x.jsx)(y,{className:"h-[18px] w-[18px] shrink-0 text-gray-300 group-hover:text-gray-500 dark:text-gray-500 dark:group-hover:text-gray-500 transition-all ease-in-out duration-200"}),(0,x.jsx)("span",{className:"hidden md:inline-flex items-center overflow-hidden w-0 h-5 group-hover:w-[40px] relative transition-all ease-out duration-200",children:(0,x.jsx)("span",{className:"whitespace-nowrap absolute left-0 opacity-0 ml-[1px] group-hover:opacity-100 text-gray-500 tracking-[-0.015em] transition-opacity ease-out duration-150",children:"Delete"})})]})})}),(0,x.jsxs)("a",{className:"flex items-center cursor-pointer bg-white dark:bg-gray-700 shadow-sm border border-gray-200 dark:border-gray-700 rounded-md overflow-hidden",onClick:this.handleClick,children:[(0,x.jsx)("span",{className:"w-12 h-8 inline-block border-r border-gray-200 dark:border-r-0",style:this.getButtonStyle(this.state.value)}),(0,x.jsx)("span",{className:"p-1 inline-block pb-0",children:(0,x.jsx)(d.A,{width:"20px",height:"20px",className:"shrink-0 inline-block text-gray-500"})})]}),(0,x.jsx)(h.e,{as:i.Fragment,show:this.state.display,enter:"transition ease-out duration-100",enterFrom:"transform opacity-0 scale-95",enterTo:"transform opacity-100 scale-100",leave:"transition ease-in duration-75",leaveFrom:"transform opacity-100 scale-100",leaveTo:"transform opacity-0 scale-95",children:(0,x.jsx)("div",{style:this.popover,className:"pix-color-picker-div right-0 rtl:right-auto rtl:left-0 z-10",children:(0,x.jsx)("div",{ref:this.state.wrapperRef,className:"absolute right-0 rtl:right-auto rtl:left-0 top-5",children:(0,x.jsxs)("div",{className:"z-10 bg-white dark:bg-gray-800 rounded-lg shadow-xl border border-gray-200 dark:border-gray-700 overflow-hidden",children:[this.props.dynamic&&this.props.dynamicColors&&(0,x.jsx)("div",{className:"p-3",children:(0,x.jsxs)("div",{className:"flex items-center bg-gray-100 dark:bg-gray-700 rounded-lg p-[3px]",children:[(0,x.jsxs)("button",{type:"button",onClick:()=>this.handleModeSwitch("light"),className:"flex items-center justify-center gap-1.5 w-full px-3 py-[5px] rounded-md text-xs font-medium transition-all duration-150 border "+("light"===this.state.activeMode?"bg-white dark:bg-gray-600 text-gray-900 dark:text-white shadow-sm border-gray-200 dark:border-gray-600":"border-transparent text-gray-500 dark:text-gray-400 hover:text-gray-700 dark:hover:text-gray-300"),children:[(0,x.jsx)(c.A,{className:"w-4 h-4"}),"Light"]}),(0,x.jsxs)("button",{type:"button",onClick:()=>this.handleModeSwitch("dark"),className:"flex items-center justify-center gap-1.5 w-full px-3 py-[5px] rounded-md text-xs font-medium transition-all duration-150 border "+("dark"===this.state.activeMode?"bg-white dark:bg-gray-600 text-gray-900 dark:text-white shadow-sm border-gray-200 dark:border-gray-600":"border-transparent text-gray-500 dark:text-gray-400 hover:text-gray-700 dark:hover:text-gray-300"),children:[(0,x.jsx)(u.A,{className:"w-4 h-4"}),"Dark"]})]})}),(0,x.jsx)(l.xk,{color:this.state.value,onChangeComplete:this.handleChangeComplete,onChange:this.handleChange,disableAlpha:this.state.disableAlpha}),this.props.dynamic&&this.props.dynamicColors&&"dark"===this.state.activeMode&&(0,x.jsx)("div",{className:"p-3 flex border-t border-gray-200 dark:border-gray-700",children:this.state.clearDarkStyle?(0,x.jsx)("div",{className:"w-full px-2 text-balance text-center text-orange-400 dark:text-orange-300/80 bg-orange-400/10 dark:bg-orange-600/40 py-1 rounded-md text-xs font-medium",children:"Dark Color Inherited From Light Mode"}):(0,x.jsx)("button",{onClick:this.onClearDarkStyle,className:"w-full bg-gray-100 dark:bg-gray-700 text-gray-500 hover:text-gray-900 dark:text-white px-3 py-1 rounded-md text-xs font-medium transition-all duration-200",children:"Clear Dark Style"})})]})})})})]})})]})}}(0,s.A)(v,"defaultProps",{label:"Color Input",value:"#333",classes:"py-3 mx-6",disableAlpha:!0,dynamic:!1,enableDeleteButton:!1,enableLabelEdit:!1,onChange:()=>{}});var b=(0,o.Ng)((t=>({dynamicColors:t.data.dynamicColors})),null)(v)}}]);