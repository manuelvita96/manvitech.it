"use strict";(window.webpackChunkpixfort_core=window.webpackChunkpixfort_core||[]).push([[8967],{58967:function(e,t,r){r.r(t);var i=r(64467),s=r(96540),a=r(80094),l=r(86528),o=(r(26741),r(54018)),n=r(74848);class d extends s.Component{constructor(e){super(e),(0,i.A)(this,"handleInputChange",(e=>{})),(0,i.A)(this,"removeImage",(()=>{this.setState({url:"",value:"",preview:""}),this.props.onChange({value:{url:"",id:"",height:"",width:"",thumbnail:"",title:"",caption:"",alt:"",description:""},id:this.props.id})})),(0,i.A)(this,"openMediaModal",(e=>{e.preventDefault(),e.stopPropagation();let t=this;var r=wp.media.frames.file_frame=wp.media({title:"Select or upload image",library:{type:["image"]},button:{text:"Select"},multiple:!1});return r.on("select",(function(){var e=r.state().get("selection").first().toJSON();t.setState({url:e.url,id:e.id,height:e.height,width:e.width,thumbnail:e.thumbnail,title:e.title,caption:e.caption,alt:e.alt,description:e.description,preview:e.url}),t.props.onChange({value:{url:e.url,id:e.id,height:e.height,width:e.width,thumbnail:e.thumbnail,title:e.title,caption:e.caption,alt:e.alt,description:e.description},id:t.props.id}),r.close()})),r.open(),!1}));let t="";this.props.preview&&(t=this.props.preview);let r="",s="",a="",l="",o="",n="",d="",p="",h="";if(this.props.value){let e=this.props.value;e.url&&(r=e.url),e.id&&(s=e.id),e.height&&(a=e.height),e.width&&(l=e.width),e.thumbnail&&(o=e.thumbnail),e.title&&(n=e.title),e.caption&&(d=e.caption),e.alt&&(p=e.alt),e.description&&(h=e.description)}this.state={url:r,id:s,height:a,width:l,thumbnail:o,title:n,caption:d,alt:p,description:h,preview:t,inputType:"text"}}render(){return(0,n.jsxs)("div",{className:`flex flex-col sm:flex-row justify-between items-start sm:items-center mx-6 py-6 ${!0===this.props.hideBorderBottom?"":"border-b border-gray-100"} ${!0===this.props.showBorderTop?"border-t border-gray-100":""} dark:border-gray-700 `,children:[(0,n.jsxs)("div",{className:"pr-6 lg:pr-8 rtl:pr-0 rtl:pl-6 rtl:lg:pr-0 pb-2 text-sm shrink",children:[(0,n.jsxs)("label",{className:"mb-0 flex items-center cursor-auto",children:[(0,n.jsx)("span",{className:"font-medium tracking-[-0.01em] text-gray-900 dark:text-white",children:this.props.label}),this.props.tooltipImage||this.props.tooltipText?(0,n.jsx)(a.A,{tooltipText:this.props.tooltipText,tooltipImage:this.props.tooltipImage,type:"default"}):null]}),this.props.description&&(0,n.jsx)("div",{className:"mt-1 mb-2 sm:mb-0 text-gray-500",dangerouslySetInnerHTML:{__html:this.props.description}})]}),(0,n.jsxs)("div",{className:"w-60 flex-col items-end justify-end shrink-0",children:[this.state.url&&(0,n.jsxs)("div",{className:"mb-2 flex flex-col justify-start sm:justify-center bg-gray-50 border border-gray-200 dark:bg-gray-700/50 dark:border-gray-700 rounded-md overflow-hidden",children:[(0,n.jsx)("span",{className:`inline-block ${this.props.removePadding?"":"p-4"} text-center leading-[0rem]`,children:(0,n.jsx)("img",{className:"inline-block self-center",src:this.state.url})}),this.state.url&&(0,n.jsx)("input",{readOnly:!0,className:"relative w-full cursor-text bg-white dark:bg-gray-800 rounded-none border-0 border-t border-gray-200 dark:border-gray-700 text-gray-500 dark:text-gray-500 py-2 pl-2 text-left focus-visible:ring-0 focus-visible:ring-transparent focus-visible:ring-opacity-0 focus-visible:ring-offset-0 focus-visible:ring-offset-transparent text-xs dark:placeholder:text-gray-500",name:`field-${this.props.id}`,type:this.state.inputType,onChange:this.handleInputChange,value:this.state.url,placeholder:"No media selected"})]}),(0,n.jsxs)("div",{className:"flex justify-end",children:[(0,n.jsxs)("button",{onClick:this.openMediaModal,className:"inline-flex w-full items-center text-xs font-semibold bg-white border border-gray-200 dark:border-gray-700 shadow-sm text-gray-500 tracking-tight hover:bg-gray-50 hover:text-gray-600 dark:text-gray-400 dark:hover:text-gray-300 dark:bg-gray-700 dark:hover:bg-gray-700/90 justify-center rounded-md px-3 py-2 transition-all ease-in-out",children:[(0,n.jsx)(l.A,{className:"shrink-0 inline-block mr-1.5 rtl:mr-0 rtl:ml-1.5",width:"20px",height:"20px"}),this.state.preview||this.state.url?"Change Image":"Select Image"]}),this.state.url&&(0,n.jsx)("button",{onClick:this.removeImage,className:"ml-2 rtl:ml-0 rtl:mr-2 inline-flex items-center shrink-0 text-xs font-semibold shadow-sm bg-white border border-gray-200 dark:border-gray-700 dark:bg-gray-700 text-gray-500 dark:text-gray-400 hover:text-gray-400 dark:hover:text-gray-300 hover:bg-gray-100/60 dark:hover:bg-gray-700/90 justify-center rounded-md px-3 py-2 transition-all ease-in-out",children:(0,n.jsx)(o.A,{className:"shrink-0 inline-block",width:"20px",height:"20px"})})]})]})]})}}(0,i.A)(d,"defaultProps",{label:"Image",value:"",onChange:()=>{}}),t.default=d}}]);