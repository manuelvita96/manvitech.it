"use strict";(window.webpackChunkpixfort_core=window.webpackChunkpixfort_core||[]).push([[8967],{58967:function(t,e,i){i.r(e);var a=i(64467),r=i(96540),s=i(61225),l=i(80094),d=i(86528),o=i(54018),h=i(54771),n=i(21005),p=i(18507),c=i(74848);class u extends r.Component{constructor(t){super(t),(0,a.A)(this,"handleInputChange",(t=>{})),(0,a.A)(this,"removeImage",(()=>{if(this.props.dynamic)if("light"===this.state.activeMode){let t={url:"",id:"",height:"",width:"",thumbnail:"",title:"",caption:"",alt:"",description:""};this.state.darkValue&&(t.darkValue=this.state.darkValue),this.setState({url:"",value:"",preview:""}),this.props.onChange({value:t,id:this.props.id})}else{let t={url:this.state.url,id:this.state.id,height:this.state.height,width:this.state.width,thumbnail:this.state.thumbnail,title:this.state.title,caption:this.state.caption,alt:this.state.alt,description:this.state.description},e={url:"",id:"",height:"",width:"",thumbnail:"",title:"",caption:"",alt:"",description:""};this.setState({darkValue:e}),t.darkValue=e,this.props.onChange({value:t,id:this.props.id})}else this.setState({url:"",value:"",preview:""}),this.props.onChange({value:{url:"",id:"",height:"",width:"",thumbnail:"",title:"",caption:"",alt:"",description:""},id:this.props.id})})),(0,a.A)(this,"openMediaModal",(t=>{t.preventDefault(),t.stopPropagation();let e=this,i=wp.media.frames.file_frame=wp.media({title:(0,h.__)("Select or upload image","pixfort-core-admin"),library:{type:["image"]},button:{text:(0,h.__)("Select","pixfort-core-admin")},multiple:!1});return i.on("select",(function(){let t=i.state().get("selection").first().toJSON();if(e.props.dynamic)if("dark"===e.state.activeMode){let i={url:t.url,id:t.id,height:t.height,width:t.width,thumbnail:t.thumbnail,title:t.title,caption:t.caption,alt:t.alt,description:t.description};e.setState({darkValue:i}),e.props.onChange({value:{url:e.state.url,id:e.state.id,height:e.state.height,width:e.state.width,thumbnail:e.state.thumbnail,title:e.state.title,caption:e.state.caption,alt:e.state.alt,description:e.state.description,darkValue:i},id:e.props.id})}else e.setState({url:t.url,id:t.id,height:t.height,width:t.width,thumbnail:t.thumbnail,title:t.title,caption:t.caption,alt:t.alt,description:t.description,preview:t.url}),e.props.onChange({value:{url:t.url,id:t.id,height:t.height,width:t.width,thumbnail:t.thumbnail,title:t.title,caption:t.caption,alt:t.alt,description:t.description,darkValue:e.state.darkValue},id:e.props.id});else e.setState({url:t.url,id:t.id,height:t.height,width:t.width,thumbnail:t.thumbnail,title:t.title,caption:t.caption,alt:t.alt,description:t.description,preview:t.url}),e.props.onChange({value:{url:t.url,id:t.id,height:t.height,width:t.width,thumbnail:t.thumbnail,title:t.title,caption:t.caption,alt:t.alt,description:t.description},id:e.props.id});i.close()})),i.open(),!1})),(0,a.A)(this,"handleModeSwitch",(t=>{this.setState({activeMode:t})})),(0,a.A)(this,"getActiveMedia",(()=>this.props.dynamic?"light"===this.state.activeMode?this.state:this.state.darkValue:this.state));let e="";this.props.preview&&(e=this.props.preview);let i="",r="",s="",l="",d="",o="",n="",p="",c="",u={url:"",id:"",height:"",width:"",thumbnail:"",title:"",caption:"",alt:"",description:""};if(this.props.value){let t=this.props.value;t.url&&(i=t.url),t.id&&(r=t.id),t.height&&(s=t.height),t.width&&(l=t.width),t.thumbnail&&(d=t.thumbnail),t.title&&(o=t.title),t.caption&&(n=t.caption),t.alt&&(p=t.alt),t.description&&(c=t.description),t.darkValue&&"object"==typeof t.darkValue&&(t.darkValue.url&&(u.url=t.darkValue.url),t.darkValue.id&&(u.id=t.darkValue.id),t.darkValue.height&&(u.height=t.darkValue.height),t.darkValue.width&&(u.width=t.darkValue.width),t.darkValue.thumbnail&&(u.thumbnail=t.darkValue.thumbnail),t.darkValue.title&&(u.title=t.darkValue.title),t.darkValue.caption&&(u.caption=t.darkValue.caption),t.darkValue.alt&&(u.alt=t.darkValue.alt),t.darkValue.description&&(u.description=t.darkValue.description))}this.state={url:i,id:r,height:s,width:l,thumbnail:d,title:o,caption:n,alt:p,description:c,preview:e,inputType:"text",activeMode:"light",darkValue:u}}render(){return(0,c.jsxs)("div",{className:`flex flex-col sm:flex-row justify-between items-start sm:items-center mx-6 py-6 ${!0===this.props.hideBorderBottom?"":"border-b border-gray-100"} ${!0===this.props.showBorderTop?"border-t border-gray-100":""} dark:border-gray-700 `,children:[(0,c.jsxs)("div",{className:"pr-6 lg:pr-8 rtl:pr-0 rtl:pl-6 rtl:lg:pr-0 pb-2 text-sm shrink",children:[(0,c.jsxs)("label",{className:"mb-0 flex items-center cursor-auto",children:[(0,c.jsx)("span",{className:"font-medium tracking-[-0.01em] text-gray-900 dark:text-white",children:this.props.label}),this.props.tooltipImage||this.props.tooltipText?(0,c.jsx)(l.A,{tooltipText:this.props.tooltipText,tooltipImage:this.props.tooltipImage,type:"default"}):null]}),this.props.description&&(0,c.jsx)("div",{className:"mt-1 mb-2 sm:mb-0 text-gray-500",dangerouslySetInnerHTML:{__html:this.props.description}})]}),(0,c.jsxs)("div",{className:"w-60 flex-col items-end justify-end shrink-0",children:[this.props.dynamic&&this.props.dynamicColors&&(0,c.jsx)("div",{className:"mb-2",children:(0,c.jsxs)("div",{className:"flex items-center bg-gray-100 dark:bg-gray-700/50 rounded-lg p-[3px]",children:[(0,c.jsxs)("button",{type:"button",onClick:()=>this.handleModeSwitch("light"),className:"flex items-center justify-center w-full gap-1.5 px-3 py-[5px] rounded-md text-xs font-medium transition-all duration-150 border "+("light"===this.state.activeMode?"bg-white dark:bg-gray-600 text-gray-900 dark:text-white shadow-sm border-gray-200 dark:border-gray-600":"border-transparent text-gray-500 dark:text-gray-400 hover:text-gray-700 dark:hover:text-gray-300"),children:[(0,c.jsx)(n.A,{className:"w-4 h-4"}),"Light"]}),(0,c.jsxs)("button",{type:"button",onClick:()=>this.handleModeSwitch("dark"),className:"flex items-center justify-center gap-1.5 w-full px-3 py-[5px] rounded-md text-xs font-medium transition-all duration-150 border "+("dark"===this.state.activeMode?"bg-white dark:bg-gray-600 text-gray-900 dark:text-white shadow-sm border-gray-200 dark:border-gray-600":"border-transparent text-gray-400 dark:text-gray-400 hover:text-gray-700 dark:hover:text-gray-300"),children:[(0,c.jsx)(p.A,{className:"w-4 h-4"}),"Dark"]})]})}),this.getActiveMedia().url&&(0,c.jsxs)("div",{className:"mb-2 flex flex-col justify-start sm:justify-center bg-gray-50 dark:bg-gray-700/50 border border-gray-200  dark:border-gray-700 rounded-md overflow-hidden",children:[(0,c.jsx)("span",{className:`inline-block ${this.props.removePadding?"":"p-4"} text-center leading-[0rem]`,children:(0,c.jsx)("img",{className:"inline-block self-center",src:this.getActiveMedia().url})}),this.getActiveMedia().url&&(0,c.jsx)("input",{readOnly:!0,className:"relative w-full cursor-text bg-white dark:bg-gray-800 rounded-none border-0 border-t border-gray-200 dark:border-gray-700 text-gray-500 dark:text-gray-500 py-2 pl-2 text-left focus-visible:ring-0 focus-visible:ring-transparent focus-visible:ring-opacity-0 focus-visible:ring-offset-0 focus-visible:ring-offset-transparent text-xs dark:placeholder:text-gray-500",name:`field-${this.props.id}`,type:this.state.inputType,onChange:this.handleInputChange,value:this.getActiveMedia().url,placeholder:"No media selected"})]}),(0,c.jsxs)("div",{className:"flex justify-end",children:[(0,c.jsxs)("button",{onClick:this.openMediaModal,className:"inline-flex w-full items-center text-xs font-semibold bg-white border border-gray-200 dark:border-gray-700 shadow-sm text-gray-500 tracking-tight hover:bg-gray-50 hover:text-gray-600 dark:text-gray-400 dark:hover:text-gray-300 dark:bg-gray-700 dark:hover:bg-gray-700/90 justify-center rounded-md px-3 py-2 transition-all ease-in-out",children:[(0,c.jsx)(d.A,{className:"shrink-0 inline-block mr-1.5 rtl:mr-0 rtl:ml-1.5",width:"20px",height:"20px"}),this.state.preview||this.getActiveMedia().url?(0,h.__)("Change Image","pixfort-core-admin"):(0,h.__)("Select Image","pixfort-core-admin")]}),this.getActiveMedia().url&&(0,c.jsx)("button",{onClick:this.removeImage,className:"ml-2 rtl:ml-0 rtl:mr-2 inline-flex items-center shrink-0 text-xs font-semibold shadow-sm bg-white border border-gray-200 dark:border-gray-700 dark:bg-gray-700 text-gray-500 dark:text-gray-400 hover:text-gray-400 dark:hover:text-gray-300 hover:bg-gray-100/60 dark:hover:bg-gray-700/90 justify-center rounded-md px-3 py-2 transition-all ease-in-out",children:(0,c.jsx)(o.A,{className:"shrink-0 inline-block",width:"20px",height:"20px"})})]}),this.props.dynamic&&"dark"===this.state.activeMode&&!this.getActiveMedia().url&&(0,c.jsx)("div",{className:"pt-2 italic text-xs text-gray-400 dark:text-gray-500",children:"*Leave empty to use the light image."})]})]})}}(0,a.A)(u,"defaultProps",{label:"Image",value:"",dynamic:!1,onChange:()=>{}});e.default=(0,s.Ng)((t=>({dynamicColors:t.data.dynamicColors})),null)(u)}}]);