!function(){"use strict";var e,t={287:function(){var e=window.wp.blocks,t=window.wp.blockEditor,r=window.wp.components,i=(window.wp.element,window.ReactJSXRuntime),n=JSON.parse('{"UU":"pixfort-core/pix-promo-box"}');(0,e.registerBlockType)(n.UU,{title:"pixfort Promo Box",description:"Promo Box widget",category:"widgets",icon:(0,i.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",v:"32",children:(0,i.jsxs)("g",{fill:"none","fill-rule":"evenodd","stroke-linecap":"square","stroke-linejoin":"round",children:[(0,i.jsx)("path",{stroke:"rgba(3, 137, 255, 0.25)","stroke-width":"1.9",d:"M7,13 L11,13 M7,17 L15,17"}),(0,i.jsx)("rect",{width:"18",height:"18",x:"3",y:"3",stroke:"rgba(3, 137, 255, 1)","stroke-width":"1.9",rx:"3"})]})}),supports:{html:!1},attributes:{bg_img:{type:"number",default:0},bg_img_url:{type:"string",default:""},badge:{type:"string",default:""},heading:{type:"string",default:"Promo box heading"},link_text:{type:"string",default:"Check it out"},link:{type:"string",default:"#"},blank:{type:"string",default:""}},edit:function({attributes:e,setAttributes:n}){const o=(0,t.useBlockProps)(),{bg_img:l,bg_img_url:s,badge:a,heading:c,link_text:g,link:d,blank:p}=e,x=l||s;return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(t.InspectorControls,{children:(0,i.jsxs)(r.PanelBody,{title:"Promo Box Settings",children:[(0,i.jsx)(r.TextControl,{label:"Heading",value:c,onChange:e=>n({heading:e})}),(0,i.jsx)(r.TextControl,{label:"Badge Text",value:a,onChange:e=>n({badge:e})}),(0,i.jsx)(r.TextControl,{label:"Link Text",value:g,onChange:e=>n({link_text:e})}),(0,i.jsx)(r.TextControl,{label:"Link URL",value:d,onChange:e=>n({link:e})}),(0,i.jsx)(r.ToggleControl,{label:"Open in new tab",checked:!!p,onChange:e=>n({blank:e?"_blank":""})}),(0,i.jsxs)("div",{className:"components-base-control",children:[(0,i.jsx)("label",{className:"components-base-control__label",children:"Background Image"}),(0,i.jsx)("div",{className:"components-base-control__field",children:x?(0,i.jsxs)("div",{className:"pix-promo-box-image-preview",children:[(0,i.jsxs)("div",{style:{marginBottom:"10px"},children:[(0,i.jsx)("img",{src:s,alt:"",style:{maxWidth:"100%",height:"auto",borderRadius:"4px"}}),(0,i.jsxs)("div",{style:{fontSize:"12px",color:"#888",marginTop:"4px"},children:["Image ID: ",l]})]}),(0,i.jsxs)("div",{style:{display:"flex",gap:"10px"},children:[(0,i.jsx)(r.Button,{isSecondary:!0,onClick:()=>{const e=wp.media({title:"Select or Upload Media",button:{text:"Use this media"},multiple:!1});e.on("select",(function(){const t=e.state().get("selection").first().toJSON();n({bg_img:parseInt(t.id,10),bg_img_url:t.url})})),e.open()},children:"Replace Image"}),(0,i.jsx)(r.Button,{isDestructive:!0,onClick:()=>{n({bg_img:0,bg_img_url:""})},children:"Remove Image"})]})]}):(0,i.jsx)(t.MediaPlaceholder,{onSelect:e=>{n({bg_img:parseInt(e.id,10),bg_img_url:e.url})},allowedTypes:["image"],multiple:!1,labels:{title:"Select Image"},value:l})})]})]})}),(0,i.jsx)("div",{...o,children:(0,i.jsxs)("div",{className:"pix-promo-box",children:[s&&(0,i.jsx)("div",{className:"pix-promo-box-bg",children:(0,i.jsx)("img",{src:s,alt:""})}),(0,i.jsxs)("div",{className:"pix-promo-box-content",children:[a&&(0,i.jsx)("div",{className:"pix-promo-box-badge",children:a}),(0,i.jsx)("h4",{children:c}),(0,i.jsxs)("a",{href:d,target:p,rel:p?"noopener noreferrer":"",children:[g,(0,i.jsx)("svg",{classBane:"pixfort-icon pix-hover-right pix-hover-item pix-ml-5",width:"24",height:"24","data-name":"Line/pixfort-icon-arrow-right-2",viewBox:"2 2 20 20",children:(0,i.jsx)("polyline",{fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"1.5",points:"9.5 17 14.5 12 9.5 7"})})]})]})]})})]})},transforms:{from:[{type:"block",blocks:["core/legacy-widget"],isMatch:({idBase:e,instance:t})=>!!t?.raw&&"pix_promo_box"===e,transform:({instance:t})=>{const r=(0,e.createBlock)("core/heading",{content:t.raw.title,level:5,style:{typography:{fontWeight:"600"}},className:"pix-sm-margin"});let i="";if(t.raw.bg_img)try{const e=wp.media.attachment(t.raw.bg_img);e&&e.get("url")?i=e.get("url"):e.fetch({success:function(){i=e.get("url")}})}catch(e){console.error("Error getting image URL:",e)}return[r,(0,e.createBlock)("pixfort-core/pix-promo-box",{bg_img:t.raw.bg_img?parseInt(t.raw.bg_img,10):0,bg_img_url:i,badge:t.raw.badge||"",heading:t.raw.heading||"",link_text:t.raw.link_text||"",link:t.raw.link||"",blank:t.raw.blank||""})]}}]}})}},r={};function i(e){var n=r[e];if(void 0!==n)return n.exports;var o=r[e]={exports:{}};return t[e](o,o.exports,i),o.exports}i.m=t,e=[],i.O=function(t,r,n,o){if(!r){var l=1/0;for(g=0;g<e.length;g++){r=e[g][0],n=e[g][1],o=e[g][2];for(var s=!0,a=0;a<r.length;a++)(!1&o||l>=o)&&Object.keys(i.O).every((function(e){return i.O[e](r[a])}))?r.splice(a--,1):(s=!1,o<l&&(l=o));if(s){e.splice(g--,1);var c=n();void 0!==c&&(t=c)}}return t}o=o||0;for(var g=e.length;g>0&&e[g-1][2]>o;g--)e[g]=e[g-1];e[g]=[r,n,o]},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},function(){var e={57:0,350:0};i.O.j=function(t){return 0===e[t]};var t=function(t,r){var n,o,l=r[0],s=r[1],a=r[2],c=0;if(l.some((function(t){return 0!==e[t]}))){for(n in s)i.o(s,n)&&(i.m[n]=s[n]);if(a)var g=a(i)}for(t&&t(r);c<l.length;c++)o=l[c],i.o(e,o)&&e[o]&&e[o][0](),e[o]=0;return i.O(g)},r=self.webpackChunkpixfort_core=self.webpackChunkpixfort_core||[];r.forEach(t.bind(null,0)),r.push=t.bind(null,r.push.bind(r))}();var n=i.O(void 0,[350],(function(){return i(287)}));n=i.O(n)}();